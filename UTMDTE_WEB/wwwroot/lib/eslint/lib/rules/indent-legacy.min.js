/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/eslint@8.11.0/lib/rules/indent-legacy.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";const astUtils=require("./utils/ast-utils");module.exports={meta:{type:"layout",docs:{description:"enforce consistent indentation",recommended:!1,url:"https://eslint.org/docs/rules/indent-legacy"},deprecated:!0,replacedBy:["indent"],fixable:"whitespace",schema:[{oneOf:[{enum:["tab"]},{type:"integer",minimum:0}]},{type:"object",properties:{SwitchCase:{type:"integer",minimum:0},VariableDeclarator:{oneOf:[{type:"integer",minimum:0},{type:"object",properties:{var:{type:"integer",minimum:0},let:{type:"integer",minimum:0},const:{type:"integer",minimum:0}}}]},outerIIFEBody:{type:"integer",minimum:0},MemberExpression:{type:"integer",minimum:0},FunctionDeclaration:{type:"object",properties:{parameters:{oneOf:[{type:"integer",minimum:0},{enum:["first"]}]},body:{type:"integer",minimum:0}}},FunctionExpression:{type:"object",properties:{parameters:{oneOf:[{type:"integer",minimum:0},{enum:["first"]}]},body:{type:"integer",minimum:0}}},CallExpression:{type:"object",properties:{parameters:{oneOf:[{type:"integer",minimum:0},{enum:["first"]}]}}},ArrayExpression:{oneOf:[{type:"integer",minimum:0},{enum:["first"]}]},ObjectExpression:{oneOf:[{type:"integer",minimum:0},{enum:["first"]}]}},additionalProperties:!1}],messages:{expected:"Expected indentation of {{expected}} but found {{actual}}."}},create(e){const t=null;let n="space",r=4;const o={SwitchCase:0,VariableDeclarator:{var:1,let:1,const:1},outerIIFEBody:null,FunctionDeclaration:{parameters:t,body:1},FunctionExpression:{parameters:t,body:1},CallExpression:{arguments:t},ArrayExpression:1,ObjectExpression:1},a=e.getSourceCode();if(e.options.length&&("tab"===e.options[0]?(r=1,n="tab"):"number"==typeof e.options[0]&&(r=e.options[0],n="space"),e.options[1])){const t=e.options[1];o.SwitchCase=t.SwitchCase||0;const n=t.VariableDeclarator;"number"==typeof n?o.VariableDeclarator={var:n,let:n,const:n}:"object"==typeof n&&Object.assign(o.VariableDeclarator,n),"number"==typeof t.outerIIFEBody&&(o.outerIIFEBody=t.outerIIFEBody),"number"==typeof t.MemberExpression&&(o.MemberExpression=t.MemberExpression),"object"==typeof t.FunctionDeclaration&&Object.assign(o.FunctionDeclaration,t.FunctionDeclaration),"object"==typeof t.FunctionExpression&&Object.assign(o.FunctionExpression,t.FunctionExpression),"object"==typeof t.CallExpression&&Object.assign(o.CallExpression,t.CallExpression),"number"!=typeof t.ArrayExpression&&"string"!=typeof t.ArrayExpression||(o.ArrayExpression=t.ArrayExpression),"number"!=typeof t.ObjectExpression&&"string"!=typeof t.ObjectExpression||(o.ObjectExpression=t.ObjectExpression)}const s={};function i(e,t,r){const o="space"+(1===t?"":"s"),a="tab"+(1===r?"":"s");let s;return s=t>0&&r>0?`${t} ${o} and ${r} ${a}`:t>0?"space"===n?t:`${t} ${o}`:r>0?"tab"===n?r:`${r} ${a}`:"0",{expected:`${e} ${n}${1===e?"":"s"}`,actual:s}}function l(t,r,o,a,s,l){if(o&&a)return;const c=("space"===n?" ":"\t").repeat(r),p=l?[t.range[1]-t.loc.end.column,t.range[1]-t.loc.end.column+o+a]:[t.range[0]-t.loc.start.column,t.range[0]-t.loc.start.column+o+a];e.report({node:t,loc:s,messageId:"expected",data:i(r,o,a),fix:e=>e.replaceTextRange(p,c)})}function c(e,t){const r=t?a.getLastToken(e):a.getFirstToken(e),o=a.getText(r,r.loc.start.column).split(""),s=o.slice(0,o.findIndex((e=>" "!==e&&"\t"!==e))),i=s.filter((e=>" "===e)).length,l=s.filter((e=>"\t"===e)).length;return{space:i,tab:l,goodChar:"space"===n?i:l,badChar:"space"===n?l:i}}function p(e,t){const n=!0===t?a.getLastToken(e,1):a.getTokenBefore(e);return(!0===t?e.loc.end.line:e.loc.start.line)!==(n?n.loc.end.line:-1)}function u(e,t){const n=c(e,!1);if("ArrayExpression"===e.type||"ObjectExpression"===e.type||n.goodChar===t&&0===n.badChar||!p(e)||l(e,t,n.space,n.tab),"IfStatement"===e.type&&e.alternate){u(a.getTokenBefore(e.alternate),t),p(e.alternate)||u(e.alternate,t)}if("TryStatement"===e.type&&e.handler){u(a.getFirstToken(e.handler),t)}if("TryStatement"===e.type&&e.finalizer){u(a.getTokenBefore(e.finalizer),t)}if("DoWhileStatement"===e.type){u(a.getTokenAfter(e.body),t)}}function m(e,t){e.forEach((e=>u(e,t)))}function y(e,t){const n=a.getLastToken(e),r=c(n,!0);r.goodChar===t&&0===r.badChar||!p(e,!0)||l(e,t,r.space,r.tab,{line:n.loc.start.line,column:n.loc.start.column},!0)}function g(e,t,n){let r=e.parent;const o=new Set(n||["Program"]);for(;r.type!==t&&!o.has(r.type)&&"Program"!==r.type;)r=r.parent;return r.type===t?r:null}function d(e){return g(e,"VariableDeclarator")}function f(e,t){return t&&t.parent.loc.start.line===e.loc.start.line&&t.parent.declarations.length>1}function b(e){const t=a.getLastToken(e);return e.loc.start.line===t.loc.end.line}function x(e){if(b(e))return;let t,n,a="ArrayExpression"===e.type?e.elements:e.properties;a=a.filter((e=>null!==e));const s=d(e);if(p(e)){const n=e.parent;if(t=c(n).goodChar,!(s&&s.loc.start.line===e.loc.start.line||"VariableDeclarator"===n.type&&s!==s.parent.declarations[0]))if("VariableDeclarator"===n.type&&s.loc.start.line===n.loc.start.line)t+=r*o.VariableDeclarator[s.parent.kind];else if("ObjectExpression"===n.type||"ArrayExpression"===n.type){const a="ObjectExpression"===e.parent.type?e.parent.properties:e.parent.elements;a[0]&&a[0].loc.start.line===n.loc.start.line&&a[0].loc.end.line!==n.loc.start.line||("number"==typeof o[n.type]?t+=o[n.type]*r:t=a[0].loc.start.column)}else"CallExpression"===n.type||"NewExpression"===n.type?"number"==typeof o.CallExpression.arguments?t+=o.CallExpression.arguments*r:"first"===o.CallExpression.arguments?-1!==n.arguments.indexOf(e)&&(t=n.arguments[0].loc.start.column):t+=r:"LogicalExpression"!==n.type&&"ArrowFunctionExpression"!==n.type||(t+=r);!function(e,t){const n=c(e,!1);n.goodChar===t&&0===n.badChar||!p(e)||l(e,t,n.space,n.tab,{line:e.loc.start.line,column:e.loc.start.column})}(e,t)}else t=c(e).goodChar;n="first"===o[e.type]?a.length?a[0].loc.start.column:0:t+r*o[e.type],f(e,s)&&(n+=r*o.VariableDeclarator[s.parent.kind]),m(a,n),a.length>0&&a[a.length-1].loc.end.line===e.loc.end.line||y(e,t+(f(e,s)?o.VariableDeclarator[s.parent.kind]*r:0))}function E(e){if(b(e))return;if(e.parent&&("FunctionExpression"===e.parent.type||"FunctionDeclaration"===e.parent.type||"ArrowFunctionExpression"===e.parent.type))return void function(e){const t=e.parent;let n;if(n=!t.parent||"Property"!==t.parent.type&&"ArrayExpression"!==t.parent.type?c(t).goodChar:c(t,!1).goodChar,"CallExpression"===t.parent.type){const r=t.parent;"FunctionExpression"!==t.type&&"ArrowFunctionExpression"!==t.type?r&&r.loc.start.line<e.loc.start.line&&(n=c(r).goodChar):function(e){const t=e.parent;return t.arguments.length>=2&&t.arguments[1]===e&&t.arguments[0].loc.end.line>t.arguments[0].loc.start.line}(t)&&r.callee.loc.start.line===r.callee.loc.end.line&&!p(t)&&(n=c(r).goodChar)}let a=r;null!==o.outerIIFEBody&&function(e){const t=e.parent;let n=t.parent;if("CallExpression"!==t.type||t.callee!==e)return!1;for(;"UnaryExpression"===n.type&&("!"===n.operator||"~"===n.operator||"+"===n.operator||"-"===n.operator)||"AssignmentExpression"===n.type||"LogicalExpression"===n.type||"SequenceExpression"===n.type||"VariableDeclarator"===n.type;)n=n.parent;return("ExpressionStatement"===n.type||"VariableDeclaration"===n.type)&&n.parent&&"Program"===n.parent.type}(t)?a=o.outerIIFEBody*r:"FunctionExpression"===t.type?a=o.FunctionExpression.body*r:"FunctionDeclaration"===t.type&&(a=o.FunctionDeclaration.body*r),n+=a;const s=d(e);s&&f(e,s)&&(n+=r*o.VariableDeclarator[s.parent.kind]),e.body.length>0&&m(e.body,n),y(e,n-a)}(e);let t,n=[];t=e.parent&&-1!==["IfStatement","WhileStatement","ForStatement","ForInStatement","ForOfStatement","DoWhileStatement","ClassDeclaration","TryStatement"].indexOf(e.parent.type)&&function(e){return"BlockStatement"===e.type||"ClassBody"===e.type||e.body&&"BlockStatement"===e.body.type||e.consequent&&"BlockStatement"===e.consequent.type}(e)?c(e.parent).goodChar:e.parent&&"CatchClause"===e.parent.type?c(e.parent.parent).goodChar:c(e).goodChar,n="IfStatement"===e.type&&"BlockStatement"!==e.consequent.type?[e.consequent]:Array.isArray(e.body)?e.body:[e.body],n.length>0&&m(n,t+r),"BlockStatement"===e.type&&y(e,t)}function h(e){"BlockStatement"!==e.body.type&&E(e)}function C(e,t){const n="SwitchStatement"===e.type?e:e.parent,a=void 0===t?c(n).goodChar:t;let i;return s[n.loc.start.line]?s[n.loc.start.line]:(i=n.cases.length>0&&0===o.SwitchCase?a:a+r*o.SwitchCase,s[n.loc.start.line]=i,i)}return{Program(e){e.body.length>0&&m(e.body,c(e).goodChar)},ClassBody:E,BlockStatement:E,WhileStatement:h,ForStatement:h,ForInStatement:h,ForOfStatement:h,DoWhileStatement:h,IfStatement(e){"BlockStatement"!==e.consequent.type&&e.consequent.loc.start.line>e.loc.start.line&&E(e)},VariableDeclaration(e){e.declarations[e.declarations.length-1].loc.start.line>e.declarations[0].loc.start.line&&function(e){const t=function(e){return e.declarations.reduce(((t,n)=>{const r=t[t.length-1];return(n.loc.start.line!==e.loc.start.line&&!r||r&&r.loc.start.line!==n.loc.start.line)&&t.push(n),t}),[])}(e),n=c(e).goodChar,s=t[t.length-1],i=n+r*o.VariableDeclarator[e.kind];if(m(t,i),a.getLastToken(e).loc.end.line<=s.loc.end.line)return;const l=a.getTokenBefore(s);","===l.value?y(e,c(l).goodChar):y(e,i-r)}(e)},ObjectExpression(e){x(e)},ArrayExpression(e){x(e)},MemberExpression(e){if(void 0===o.MemberExpression)return;if(b(e))return;if(g(e,"VariableDeclarator",["FunctionExpression","ArrowFunctionExpression"]))return;if(g(e,"AssignmentExpression",["FunctionExpression"]))return;const t=c(e).goodChar+r*o.MemberExpression,n=[e.property],s=a.getTokenBefore(e.property);"Punctuator"===s.type&&"."===s.value&&n.push(s),m(n,t)},SwitchStatement(e){const t=c(e).goodChar,n=C(e,t);m(e.cases,n),y(e,t)},SwitchCase(e){if(b(e))return;const t=C(e);m(e.consequent,t+r)},FunctionDeclaration(e){b(e)||("first"===o.FunctionDeclaration.parameters&&e.params.length?m(e.params.slice(1),e.params[0].loc.start.column):null!==o.FunctionDeclaration.parameters&&m(e.params,c(e).goodChar+r*o.FunctionDeclaration.parameters))},FunctionExpression(e){b(e)||("first"===o.FunctionExpression.parameters&&e.params.length?m(e.params.slice(1),e.params[0].loc.start.column):null!==o.FunctionExpression.parameters&&m(e.params,c(e).goodChar+r*o.FunctionExpression.parameters))},ReturnStatement(e){if(b(e))return;const t=c(e).goodChar;!function(e){const t=a.getText(e).replace(a.getText(e.argument),"");return/^return\s*?\(\s*?\);*?/u.test(t)}(e)?u(e,t):function(e,t){const n=a.getLastToken(e,astUtils.isClosingParenToken);if(a.getText(n,n.loc.start.column).slice(0,-1).trim())return;const r=c(n,!0);r.goodChar!==t&&l(e,t,r.space,r.tab,{line:n.loc.start.line,column:n.loc.start.column},!0)}(e,t)},CallExpression(e){b(e)||("first"===o.CallExpression.arguments&&e.arguments.length?m(e.arguments.slice(1),e.arguments[0].loc.start.column):null!==o.CallExpression.arguments&&m(e.arguments,c(e).goodChar+r*o.CallExpression.arguments))}}}};
//# sourceMappingURL=/sm/d5f89ca52dbd758b80546f3e0829ab78bdbbc6ae5c08adadaadf2a03cfe39991.map