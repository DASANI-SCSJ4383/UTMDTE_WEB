/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/eslint@8.11.0/lib/rules/array-callback-return.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";const astUtils=require("./utils/ast-utils"),TARGET_NODE_TYPE=/^(?:Arrow)?FunctionExpression$/u,TARGET_METHODS=/^(?:every|filter|find(?:Index)?|flatMap|forEach|map|reduce(?:Right)?|some|sort)$/u;function isReachable(e){return e.reachable}function isTargetMethod(e){return astUtils.isSpecificMemberAccess(e,null,TARGET_METHODS)}function fullMethodName(e){return["from","of","isArray"].includes(e)?"Array.".concat(e):"Array.prototype.".concat(e)}function getArrayMethodName(e){let t=e;for(;t;){const e=t.parent;switch(e.type){case"LogicalExpression":case"ConditionalExpression":case"ChainExpression":t=e;break;case"ReturnStatement":{const a=astUtils.getUpperFunction(e);if(null===a||!astUtils.isCallee(a))return null;t=a.parent;break}case"CallExpression":return astUtils.isArrayFromMethod(e.callee)&&e.arguments.length>=2&&e.arguments[1]===t?"from":isTargetMethod(e.callee)&&e.arguments.length>=1&&e.arguments[0]===t?astUtils.getStaticPropertyName(e.callee):null;default:return null}}return null}module.exports={meta:{type:"problem",docs:{description:"enforce `return` statements in callbacks of array methods",recommended:!1,url:"https://eslint.org/docs/rules/array-callback-return"},schema:[{type:"object",properties:{allowImplicit:{type:"boolean",default:!1},checkForEach:{type:"boolean",default:!1}},additionalProperties:!1}],messages:{expectedAtEnd:"{{arrayMethodName}}() expects a value to be returned at the end of {{name}}.",expectedInside:"{{arrayMethodName}}() expects a return value from {{name}}.",expectedReturnValue:"{{arrayMethodName}}() expects a return value from {{name}}.",expectedNoReturnValue:"{{arrayMethodName}}() expects no useless return value from {{name}}."}},create(e){const t=e.options[0]||{allowImplicit:!1,checkForEach:!1},a=e.getSourceCode();let r={arrayMethodName:null,upper:null,codePath:null,hasReturn:!1,shouldCheck:!1,node:null};function n(n){if(!r.shouldCheck)return;let o=null;if("forEach"===r.arrayMethodName?t.checkForEach&&"ArrowFunctionExpression"===n.type&&n.expression&&(o="expectedNoReturnValue"):"BlockStatement"===n.body.type&&r.codePath.currentSegments.some(isReachable)&&(o=r.hasReturn?"expectedAtEnd":"expectedInside"),o){const t=astUtils.getFunctionNameWithKind(n);e.report({node:n,loc:astUtils.getFunctionHeadLoc(n,a),messageId:o,data:{name:t,arrayMethodName:fullMethodName(r.arrayMethodName)}})}}return{onCodePathStart(e,t){let a=null;TARGET_NODE_TYPE.test(t.type)&&(a=getArrayMethodName(t)),r={arrayMethodName:a,upper:r,codePath:e,hasReturn:!1,shouldCheck:a&&!t.async&&!t.generator,node:t}},onCodePathEnd(){r=r.upper},ReturnStatement(a){if(!r.shouldCheck)return;r.hasReturn=!0;let n=null;"forEach"===r.arrayMethodName?t.checkForEach&&a.argument&&(n="expectedNoReturnValue"):t.allowImplicit||a.argument||(n="expectedReturnValue"),n&&e.report({node:a,messageId:n,data:{name:astUtils.getFunctionNameWithKind(r.node),arrayMethodName:fullMethodName(r.arrayMethodName)}})},"FunctionExpression:exit":n,"ArrowFunctionExpression:exit":n}}};
//# sourceMappingURL=/sm/b601b14aa47f2bd68f3e1e4052eacc2ec1839f8c02ef48d7df392ee9a43acf51.map