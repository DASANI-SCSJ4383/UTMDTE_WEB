/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/eslint@8.11.0/lib/rules/no-shadow.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";const astUtils=require("./utils/ast-utils"),FUNC_EXPR_NODE_TYPES=["ArrowFunctionExpression","FunctionExpression"],CALL_EXPR_NODE_TYPE=["CallExpression"],FOR_IN_OF_TYPE=/^For(?:In|Of)Statement$/u,SENTINEL_TYPE=/^(?:(?:Function|Class)(?:Declaration|Expression)|ArrowFunctionExpression|CatchClause|ImportDeclaration|ExportNamedDeclaration)$/u;module.exports={meta:{type:"suggestion",docs:{description:"disallow variable declarations from shadowing variables declared in the outer scope",recommended:!1,url:"https://eslint.org/docs/rules/no-shadow"},schema:[{type:"object",properties:{builtinGlobals:{type:"boolean",default:!1},hoist:{enum:["all","functions","never"],default:"functions"},allow:{type:"array",items:{type:"string"}},ignoreOnInitialization:{type:"boolean",default:!1}},additionalProperties:!1}],messages:{noShadow:"'{{name}}' is already declared in the upper scope on line {{shadowedLine}} column {{shadowedColumn}}.",noShadowGlobal:"'{{name}}' is already a global variable."}},create(e){const n={builtinGlobals:e.options[0]&&e.options[0].builtinGlobals,hoist:e.options[0]&&e.options[0].hoist||"functions",allow:e.options[0]&&e.options[0].allow||[],ignoreOnInitialization:e.options[0]&&e.options[0].ignoreOnInitialization};function t(e,n){return e&&e.range[0]<=n&&n<=e.range[1]}function o(e,n){const o=n.defs[0];if(!o)return!1;const{variableScope:i}=e.scope;if(!FUNC_EXPR_NODE_TYPES.includes(i.block.type)||function(e){const n=e.upper;return"function-expression-name"===n.type?n.upper:n}(i)!==n.scope)return!1;const r=i.block,{parent:a}=r,s=function(e,n){let t=e;for(;t&&!n(t);)t=t.parent;return t}(a,(e=>CALL_EXPR_NODE_TYPE.includes(e.type)));if(!s)return!1;let l=o.name;const c=s.range[1];for(;l;){if("VariableDeclarator"===l.type){if(t(l.init,c))return!0;if(FOR_IN_OF_TYPE.test(l.parent.parent.type)&&t(l.parent.parent.right,c))return!0;break}if("AssignmentPattern"===l.type){if(t(l.right,c))return!0}else if(SENTINEL_TYPE.test(l.type))break;l=l.parent}return!1}function i(e){return-1!==n.allow.indexOf(e.name)}function r(e){const n=e.scope.block;return"ClassDeclaration"===n.type&&n.id===e.identifiers[0]}function a(e,n){const t=n.scope,o=n.defs[0],i=o&&o.parent&&o.parent.range,r=e.scope,a=e.defs[0],s=a&&a.name.range;return i&&s&&i[0]<s[0]&&s[1]<i[1]&&("FunctionName"===a.type&&"FunctionExpression"===a.node.type||"ClassExpression"===a.node.type)&&t===r.upper}function s(e){const n=e.defs[0];return n&&n.name.range}function l(e){const n=e.identifiers[0];let t;return t=n?{global:!1,line:n.loc.start.line,column:n.loc.start.column+1}:{global:!0},t}function c(e,t){const o=t.defs[0],i=s(e),r=s(t);return i&&r&&i[1]<r[0]&&("functions"!==n.hoist||!o||"FunctionDeclaration"!==o.node.type)}function p(t){const s=t.variables;for(let p=0;p<s.length;++p){const u=s[p];if(0===u.identifiers.length||r(u)||i(u))continue;const d=astUtils.getVariableByName(t.upper,u.name);if(d&&(d.identifiers.length>0||n.builtinGlobals&&"writeable"in d)&&!a(u,d)&&(!n.ignoreOnInitialization||!o(u,d))&&("all"===n.hoist||!c(u,d))){const n=l(d),t=n.global?"noShadowGlobal":"noShadow",o={name:u.name};n.global||(o.shadowedLine=n.line,o.shadowedColumn=n.column),e.report({node:u.identifiers[0],messageId:t,data:o})}}}return{"Program:exit"(){const n=e.getScope().childScopes.slice();for(;n.length;){const e=n.pop();n.push(...e.childScopes),p(e)}}}}};
//# sourceMappingURL=/sm/fbad11253fb968b9b3e7cdeeb73c56cb247e2fc26e03688fc4633065a2a3b3e0.map