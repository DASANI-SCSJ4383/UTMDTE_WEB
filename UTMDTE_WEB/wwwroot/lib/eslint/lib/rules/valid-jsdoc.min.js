/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/eslint@8.11.0/lib/rules/valid-jsdoc.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";const doctrine=require("doctrine");module.exports={meta:{type:"suggestion",docs:{description:"enforce valid JSDoc comments",recommended:!1,url:"https://eslint.org/docs/rules/valid-jsdoc"},schema:[{type:"object",properties:{prefer:{type:"object",additionalProperties:{type:"string"}},preferType:{type:"object",additionalProperties:{type:"string"}},requireReturn:{type:"boolean",default:!0},requireParamDescription:{type:"boolean",default:!0},requireReturnDescription:{type:"boolean",default:!0},matchDescription:{type:"string"},requireReturnType:{type:"boolean",default:!0},requireParamType:{type:"boolean",default:!0}},additionalProperties:!1}],fixable:"code",messages:{unexpectedTag:"Unexpected @{{title}} tag; function has no return statement.",expected:"Expected JSDoc for '{{name}}' but found '{{jsdocName}}'.",use:"Use @{{name}} instead.",useType:"Use '{{expectedTypeName}}' instead of '{{currentTypeName}}'.",syntaxError:"JSDoc syntax error.",missingBrace:"JSDoc type missing brace.",missingParamDesc:"Missing JSDoc parameter description for '{{name}}'.",missingParamType:"Missing JSDoc parameter type for '{{name}}'.",missingReturnType:"Missing JSDoc return type.",missingReturnDesc:"Missing JSDoc return description.",missingReturn:"Missing JSDoc @{{returns}} for function.",missingParam:"Missing JSDoc for parameter '{{name}}'.",duplicateParam:"Duplicate JSDoc parameter '{{name}}'.",unsatisfiedDesc:"JSDoc description does not satisfy the regex pattern."},deprecated:!0,replacedBy:[]},create(e){const t=e.options[0]||{},r=t.prefer||{},n=e.getSourceCode(),a=!1!==t.requireReturn,s=!1!==t.requireParamDescription,i=!1!==t.requireReturnDescription,o=!1!==t.requireReturnType,c=!1!==t.requireParamType,p=t.preferType||{},u=0!==Object.keys(p).length,d=[];function m(e){return"ClassExpression"===e.type||"ClassDeclaration"===e.type}function l(e){d.push({returnPresent:"ArrowFunctionExpression"===e.type&&"BlockStatement"!==e.body.type||m(e)||e.async})}function y(e){return null===e.type||"void"===e.type.name||"UndefinedLiteral"===e.type.type}function g(e){let t;return e.name?t=e:e.expression&&(t=e.expression),{currentType:t,expectedTypeName:t&&p[t.name]}}function f(e,t){return{start:n.getLocFromIndex(e.range[0]+2+t.range[0]),end:n.getLocFromIndex(e.range[0]+2+t.range[1])}}function x(t,r){if(!r||!function(e){return"UndefinedLiteral"!==e&&"NullLiteral"!==e&&"NullableLiteral"!==e&&"FunctionType"!==e&&"AllLiteral"!==e}(r.type))return;const n=[];let a=[];switch(r.type){case"TypeApplication":a="UnionType"===r.applications[0].type?r.applications[0].elements:r.applications,n.push(g(r));break;case"RecordType":a=r.fields;break;case"UnionType":case"ArrayType":a=r.elements;break;case"FieldType":r.value&&n.push(g(r.value));break;default:n.push(g(r))}a.forEach(x.bind(null,t)),n.forEach((r=>{r.expectedTypeName&&r.expectedTypeName!==r.currentType.name&&e.report({node:t,messageId:"useType",loc:f(t,r.currentType),data:{currentTypeName:r.currentType.name,expectedTypeName:r.expectedTypeName},fix:e=>e.replaceTextRange(r.currentType.range.map((e=>t.range[0]+2+e)),r.expectedTypeName)})}))}function T(p){const l=n.getJSDocComment(p),g=d.pop(),T=Object.create(null),D=[];let b,h=!1,P=!1,E=!1,I=!1,R=!1;if(l){let n;try{n=doctrine.parse(l.value,{strict:!0,unwrap:!0,sloppy:!0,range:!0})}catch(t){return void(/braces/iu.test(t.message)?e.report({node:l,messageId:"missingBrace"}):e.report({node:l,messageId:"syntaxError"}))}n.tags.forEach((t=>{switch(t.title.toLowerCase()){case"param":case"arg":case"argument":D.push(t);break;case"return":case"returns":h=!0,b=t;break;case"constructor":case"class":P=!0;break;case"override":case"inheritdoc":I=!0;break;case"abstract":case"virtual":R=!0;break;case"interface":E=!0}if(Object.prototype.hasOwnProperty.call(r,t.title)&&t.title!==r[t.title]){const n=f(l,t);e.report({node:l,messageId:"use",loc:{start:n.start,end:{line:n.start.line,column:n.start.column+`@${t.title}`.length}},data:{name:r[t.title]},fix:e=>e.replaceTextRange([l.range[0]+t.range[0]+3,l.range[0]+t.range[0]+t.title.length+3],r[t.title])})}u&&t.type&&x(l,t.type)})),D.forEach((t=>{c&&!t.type&&e.report({node:l,messageId:"missingParamType",loc:f(l,t),data:{name:t.name}}),!t.description&&s&&e.report({node:l,messageId:"missingParamDesc",loc:f(l,t),data:{name:t.name}}),T[t.name]?e.report({node:l,messageId:"duplicateParam",loc:f(l,t),data:{name:t.name}}):-1===t.name.indexOf(".")&&(T[t.name]=t)})),h&&(a||g.returnPresent||null!==b.type&&y(b)||R?(o&&!b.type&&e.report({node:l,messageId:"missingReturnType"}),y(b)||b.description||!i||e.report({node:l,messageId:"missingReturnDesc"})):e.report({node:l,messageId:"unexpectedTag",loc:f(l,b),data:{title:b.title}})),I||h||P||E||"get"===p.parent.kind||"constructor"===p.parent.kind||"set"===p.parent.kind||m(p)||(a||g.returnPresent&&!p.async)&&e.report({node:l,messageId:"missingReturn",data:{returns:r.returns||"returns"}});const d=Object.keys(T);if(p.params&&p.params.forEach(((t,r)=>{const n="AssignmentPattern"===t.type?t.left:t;if("Identifier"===n.type){const t=n.name;d[r]&&t!==d[r]?e.report({node:l,messageId:"expected",loc:f(l,T[d[r]]),data:{name:t,jsdocName:d[r]}}):T[t]||I||e.report({node:l,messageId:"missingParam",data:{name:t}})}})),t.matchDescription){new RegExp(t.matchDescription,"u").test(n.description)||e.report({node:l,messageId:"unsatisfiedDesc"})}}}return{ArrowFunctionExpression:l,FunctionExpression:l,FunctionDeclaration:l,ClassExpression:l,ClassDeclaration:l,"ArrowFunctionExpression:exit":T,"FunctionExpression:exit":T,"FunctionDeclaration:exit":T,"ClassExpression:exit":T,"ClassDeclaration:exit":T,ReturnStatement:function(e){const t=d[d.length-1];t&&null!==e.argument&&(t.returnPresent=!0)}}}};
//# sourceMappingURL=/sm/cc3500fad3c97f9fb7869b9329d29e1307c520dd436f9c78dfe36bd5e36f4bb8.map