/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/eslint@8.11.0/lib/rules/no-this-before-super.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";const astUtils=require("./utils/ast-utils");function isConstructorFunction(e){return"FunctionExpression"===e.type&&"MethodDefinition"===e.parent.type&&"constructor"===e.parent.kind}module.exports={meta:{type:"problem",docs:{description:"disallow `this`/`super` before calling `super()` in constructors",recommended:!0,url:"https://eslint.org/docs/rules/no-this-before-super"},schema:[],messages:{noBeforeSuper:"'{{kind}}' is not allowed before 'super()'."}},create(e){let t=null,s=Object.create(null);function n(e){return!e.reachable||s[e.id].superCalled}function r(){return Boolean(t&&t.isConstructor&&t.hasExtends)}function o(){return r()&&!t.codePath.currentSegments.every(n)}function i(e){const n=t.codePath.currentSegments;for(let t=0;t<n.length;++t){const r=n[t];r.reachable&&s[r.id].invalidNodes.push(e)}}return{onCodePathStart(e,s){if(isConstructorFunction(s)){const n=s.parent.parent.parent;t={upper:t,isConstructor:!0,hasExtends:Boolean(n.superClass&&!astUtils.isNullOrUndefined(n.superClass)),codePath:e}}else t={upper:t,isConstructor:!1,hasExtends:!1,codePath:e}},onCodePathEnd(n){const r=t.hasExtends;t=t.upper,r&&n.traverseSegments(((t,n)=>{const r=s[t.id];for(let t=0;t<r.invalidNodes.length;++t){const s=r.invalidNodes[t];e.report({messageId:"noBeforeSuper",node:s,data:{kind:"Super"===s.type?"super":"this"}})}r.superCalled&&n.skip()}))},onCodePathSegmentStart(e){r()&&(s[e.id]={superCalled:e.prevSegments.length>0&&e.prevSegments.every(n),invalidNodes:[]})},onCodePathSegmentLoop(e,o){r()&&t.codePath.traverseSegments({first:o,last:e},((e,t)=>{const r=s[e.id];r.superCalled?(r.invalidNodes=[],t.skip()):e.prevSegments.length>0&&e.prevSegments.every(n)&&(r.superCalled=!0,r.invalidNodes=[])}))},ThisExpression(e){o()&&i(e)},Super(e){!astUtils.isCallee(e)&&o()&&i(e)},"CallExpression:exit"(e){"Super"===e.callee.type&&o()&&function(){const e=t.codePath.currentSegments;for(let t=0;t<e.length;++t){const n=e[t];n.reachable&&(s[n.id].superCalled=!0)}}()},"Program:exit"(){s=Object.create(null)}}}};
//# sourceMappingURL=/sm/0838db63a2207a4beb07d780540799f065dee19f2998f9b8b2abd0a9e942df56.map