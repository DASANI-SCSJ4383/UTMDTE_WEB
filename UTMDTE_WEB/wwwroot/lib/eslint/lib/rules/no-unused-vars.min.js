/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/eslint@8.11.0/lib/rules/no-unused-vars.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";const astUtils=require("./utils/ast-utils");module.exports={meta:{type:"problem",docs:{description:"disallow unused variables",recommended:!0,url:"https://eslint.org/docs/rules/no-unused-vars"},schema:[{oneOf:[{enum:["all","local"]},{type:"object",properties:{vars:{enum:["all","local"]},varsIgnorePattern:{type:"string"},args:{enum:["all","after-used","none"]},ignoreRestSiblings:{type:"boolean"},argsIgnorePattern:{type:"string"},caughtErrors:{enum:["all","none"]},caughtErrorsIgnorePattern:{type:"string"},destructuredArrayIgnorePattern:{type:"string"}},additionalProperties:!1}]}],messages:{unusedVar:"'{{varName}}' is {{action}} but never used{{additional}}."}},create(e){const t=e.getSourceCode(),r=/^(?:RestElement|(?:Experimental)?RestProperty)$/u,n={vars:"all",args:"after-used",ignoreRestSiblings:!1,caughtErrors:"none"},s=e.options[0];function a(e){const t=e.defs&&e.defs[0]&&e.defs[0].type;let r,s;"CatchClause"===t&&n.caughtErrorsIgnorePattern?(r="args",s=n.caughtErrorsIgnorePattern.toString()):"Parameter"===t&&n.argsIgnorePattern?(r="args",s=n.argsIgnorePattern.toString()):"Parameter"!==t&&n.varsIgnorePattern&&(r="vars",s=n.varsIgnorePattern.toString());const a=r?`. Allowed unused ${r} must match ${s}`:"";return{varName:e.name,action:"defined",additional:a}}function o(e){const t=e.defs[0];let r="";return n.destructuredArrayIgnorePattern&&t&&"ArrayPattern"===t.name.parent.type?r=`. Allowed unused elements of array destructuring patterns must match ${n.destructuredArrayIgnorePattern.toString()}`:n.varsIgnorePattern&&(r=`. Allowed unused vars must match ${n.varsIgnorePattern.toString()}`),{varName:e.name,action:"assigned a value",additional:r}}s&&("string"==typeof s?n.vars=s:(n.vars=s.vars||n.vars,n.args=s.args||n.args,n.ignoreRestSiblings=s.ignoreRestSiblings||n.ignoreRestSiblings,n.caughtErrors=s.caughtErrors||n.caughtErrors,s.varsIgnorePattern&&(n.varsIgnorePattern=new RegExp(s.varsIgnorePattern,"u")),s.argsIgnorePattern&&(n.argsIgnorePattern=new RegExp(s.argsIgnorePattern,"u")),s.caughtErrorsIgnorePattern&&(n.caughtErrorsIgnorePattern=new RegExp(s.caughtErrorsIgnorePattern,"u")),s.destructuredArrayIgnorePattern&&(n.destructuredArrayIgnorePattern=new RegExp(s.destructuredArrayIgnorePattern,"u"))));const i=/(?:Statement|Declaration)$/u;function u(e){const t=e.defs[0];if(t){let e=t.node;if("VariableDeclarator"===e.type)e=e.parent;else if("Parameter"===t.type)return!1;return 0===e.parent.type.indexOf("Export")}return!1}function c(e){return"Property"===e.type&&"ObjectPattern"===e.parent.type&&r.test(e.parent.properties[e.parent.properties.length-1].type)}function l(e){if(n.ignoreRestSiblings){const t=e.defs.some((e=>c(e.name.parent))),r=e.references.some((e=>c(e.identifier.parent)));return t||r}return!1}function g(e,t){return e.range[0]>=t.range[0]&&e.range[1]<=t.range[1]}function p(e){const t=e.parent;if("ExpressionStatement"===t.type)return!0;if("SequenceExpression"===t.type){return!(t.expressions[t.expressions.length-1]===e)||p(t)}return!1}function d(e,t){const r=astUtils.getUpperFunction(e);return r&&g(r,t)&&function(e,t){let r=e,n=e.parent;for(;n&&g(n,t);){switch(n.type){case"SequenceExpression":if(n.expressions[n.expressions.length-1]!==r)return!1;break;case"CallExpression":case"NewExpression":return n.callee!==r;case"AssignmentExpression":case"TaggedTemplateExpression":case"YieldExpression":return!0;default:if(i.test(n.type))return!0}r=n,n=n.parent}return!1}(r,t)}function f(e){const t=function(e){const t=[];return e.defs.forEach((e=>{const{type:r,node:n}=e;"FunctionName"===r&&t.push(n),"Variable"!==r||!n.init||"FunctionExpression"!==n.init.type&&"ArrowFunctionExpression"!==n.init.type||t.push(n.init)})),t}(e),r=t.length>0;let n=null;return e.references.some((e=>{if(function(e){let t=e.identifier.parent;return"VariableDeclarator"===t.type&&(t=t.parent.parent),"ForInStatement"===t.type&&(t="BlockStatement"===t.body.type?t.body.body[0]:t.body,!!t&&"ReturnStatement"===t.type)}(e))return!0;const s=function(e,t){const r=e.identifier,n=r.parent;return e.isRead()&&("AssignmentExpression"===n.type&&n.left===r&&p(n)||"UpdateExpression"===n.type&&p(n)||t&&g(r,t)&&!d(r,t))}(e,n);return n=function(e,t){const r=e.identifier,n=r.parent,s=e.from.variableScope!==e.resolved.scope.variableScope||astUtils.isInLoop(r);return t&&g(r,t)?t:"AssignmentExpression"===n.type&&p(n)&&r===n.left&&!s?n.right:null}(e,n),function(e){return e.isRead()}(e)&&!s&&!(r&&function(e,t){let r=e.from;for(;r;){if(t.indexOf(r.block)>=0)return!0;r=r.upper}return!1}(e,t))}))}function m(t){const r=t.defs[0],n=e.getDeclaredVariables(r.node);return!n.slice(n.indexOf(t)+1).some((e=>e.references.length>0||e.eslintUsed))}function y(e,t){const r=e.variables,s=e.childScopes;let a,o;if("global"!==e.type||"all"===n.vars)for(a=0,o=r.length;a<o;++a){const s=r[a];if("class"===e.type&&e.block.id===s.identifiers[0])continue;if(e.functionExpressionScope||s.eslintUsed)continue;if("function"===e.type&&"arguments"===s.name&&0===s.identifiers.length)continue;const o=s.defs[0];if(o){const e=o.type,t=s.references.some((e=>"ArrayPattern"===e.identifier.parent.type));if(("ArrayPattern"===o.name.parent.type||t)&&n.destructuredArrayIgnorePattern&&n.destructuredArrayIgnorePattern.test(o.name.name))continue;if("CatchClause"===e){if("none"===n.caughtErrors)continue;if(n.caughtErrorsIgnorePattern&&n.caughtErrorsIgnorePattern.test(o.name.name))continue}if("Parameter"===e){if(("Property"===o.node.parent.type||"MethodDefinition"===o.node.parent.type)&&"set"===o.node.parent.kind)continue;if("none"===n.args)continue;if(n.argsIgnorePattern&&n.argsIgnorePattern.test(o.name.name))continue;if("after-used"===n.args&&astUtils.isFunction(o.name.parent)&&!m(s))continue}else if(n.varsIgnorePattern&&n.varsIgnorePattern.test(o.name.name))continue}f(s)||u(s)||l(s)||t.push(s)}for(a=0,o=s.length;a<o;++a)y(s[a],t);return t}return{"Program:exit"(r){const n=y(e.getScope(),[]);for(let s=0,i=n.length;s<i;++s){const i=n[s];if(i.defs.length>0){const t=i.references.filter((e=>e.isWrite()&&e.from.variableScope===i.scope.variableScope));let r;t.length>0&&(r=t[t.length-1]),e.report({node:r?r.identifier:i.identifiers[0],messageId:"unusedVar",data:i.references.some((e=>e.isWrite()))?o(i):a(i)})}else if(i.eslintExplicitGlobalComments){const n=i.eslintExplicitGlobalComments[0];e.report({node:r,loc:astUtils.getNameLocationInGlobalDirectiveComment(t,n,i.name),messageId:"unusedVar",data:a(i)})}}}}}};
//# sourceMappingURL=/sm/4dd996edbef5553b4d08c88453f1aa8fa49a5c88f9ac9d5c17a737bc4d04e4f5.map