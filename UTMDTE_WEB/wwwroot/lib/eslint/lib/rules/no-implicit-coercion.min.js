/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/eslint@8.11.0/lib/rules/no-implicit-coercion.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";const astUtils=require("./utils/ast-utils"),INDEX_OF_PATTERN=/^(?:i|lastI)ndexOf$/u,ALLOWABLE_OPERATORS=["~","!!","+","*"];function parseOptions(e){return{boolean:!("boolean"in e)||e.boolean,number:!("number"in e)||e.number,string:!("string"in e)||e.string,disallowTemplateShorthand:"disallowTemplateShorthand"in e&&e.disallowTemplateShorthand,allow:e.allow||[]}}function isDoubleLogicalNegating(e){return"!"===e.operator&&"UnaryExpression"===e.argument.type&&"!"===e.argument.operator}function isBinaryNegatingOfIndexOf(e){if("~"!==e.operator)return!1;const t=astUtils.skipChainExpression(e.argument);return"CallExpression"===t.type&&astUtils.isSpecificMemberAccess(t.callee,null,INDEX_OF_PATTERN)}function isMultiplyByOne(e){return"*"===e.operator&&("Literal"===e.left.type&&1===e.left.value||"Literal"===e.right.type&&1===e.right.value)}function isNumeric(e){return"Literal"===e.type&&"number"==typeof e.value||"CallExpression"===e.type&&("Number"===e.callee.name||"parseInt"===e.callee.name||"parseFloat"===e.callee.name)}function getNonNumericOperand(e){const t=e.left,n=e.right;return"BinaryExpression"===n.type||isNumeric(n)?"BinaryExpression"===t.type||isNumeric(t)?null:t:n}function isStringType(e){return astUtils.isStringLiteral(e)||"CallExpression"===e.type&&"Identifier"===e.callee.type&&"String"===e.callee.name}function isEmptyString(e){return astUtils.isStringLiteral(e)&&(""===e.value||"TemplateLiteral"===e.type&&1===e.quasis.length&&""===e.quasis[0].value.cooked)}function isConcatWithEmptyString(e){return"+"===e.operator&&(isEmptyString(e.left)&&!isStringType(e.right)||isEmptyString(e.right)&&!isStringType(e.left))}function isAppendEmptyString(e){return"+="===e.operator&&isEmptyString(e.right)}function getNonEmptyOperand(e){return isEmptyString(e.left)?e.right:e.left}module.exports={meta:{type:"suggestion",docs:{description:"disallow shorthand type conversions",recommended:!1,url:"https://eslint.org/docs/rules/no-implicit-coercion"},fixable:"code",schema:[{type:"object",properties:{boolean:{type:"boolean",default:!0},number:{type:"boolean",default:!0},string:{type:"boolean",default:!0},disallowTemplateShorthand:{type:"boolean",default:!1},allow:{type:"array",items:{enum:ALLOWABLE_OPERATORS},uniqueItems:!0}},additionalProperties:!1}],messages:{useRecommendation:"use `{{recommendation}}` instead."}},create(e){const t=parseOptions(e.options[0]||{}),n=e.getSourceCode();function i(t,i,r){e.report({node:t,messageId:"useRecommendation",data:{recommendation:i},fix(e){if(!r)return null;const a=n.getTokenBefore(t);return a&&a.range[1]===t.range[0]&&!astUtils.canTokensBeAdjacent(a,i)?e.replaceText(t,` ${i}`):e.replaceText(t,i)}})}return{UnaryExpression(e){let r;if(r=t.allow.indexOf("!!")>=0,!r&&t.boolean&&isDoubleLogicalNegating(e)){i(e,`Boolean(${n.getText(e.argument.argument)})`,!0)}if(r=t.allow.indexOf("~")>=0,!r&&t.boolean&&isBinaryNegatingOfIndexOf(e)){const t="ChainExpression"===e.argument.type?">= 0":"!== -1";i(e,`${n.getText(e.argument)} ${t}`,!1)}if(r=t.allow.indexOf("+")>=0,!r&&t.number&&"+"===e.operator&&!isNumeric(e.argument)){i(e,`Number(${n.getText(e.argument)})`,!0)}},"BinaryExpression:exit"(e){let r;r=t.allow.indexOf("*")>=0;const a=!r&&t.number&&isMultiplyByOne(e)&&getNonNumericOperand(e);if(a){i(e,`Number(${n.getText(a)})`,!0)}if(r=t.allow.indexOf("+")>=0,!r&&t.string&&isConcatWithEmptyString(e)){i(e,`String(${n.getText(getNonEmptyOperand(e))})`,!0)}},AssignmentExpression(e){if(!(t.allow.indexOf("+")>=0)&&t.string&&isAppendEmptyString(e)){const t=n.getText(getNonEmptyOperand(e));i(e,`${t} = String(${t})`,!0)}},TemplateLiteral(e){if(!t.disallowTemplateShorthand)return;if("TaggedTemplateExpression"===e.parent.type)return;if(1!==e.expressions.length)return;if(""!==e.quasis[0].value.cooked)return;if(""!==e.quasis[1].value.cooked)return;if(isStringType(e.expressions[0]))return;i(e,`String(${n.getText(e.expressions[0])})`,!0)}}}};
//# sourceMappingURL=/sm/7e52c32beee8ef658e7e423158d5e8e32df603da6715277ed9ec82c97c403707.map