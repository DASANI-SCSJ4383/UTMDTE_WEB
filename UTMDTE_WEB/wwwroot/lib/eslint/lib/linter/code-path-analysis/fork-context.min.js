/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/eslint@8.11.0/lib/linter/code-path-analysis/fork-context.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";const assert=require("assert"),CodePathSegment=require("./code-path-segment");function isReachable(e){return e.reachable}function makeSegments(e,t,n,s){const r=e.segmentsList,o=t>=0?t:r.length+t,h=n>=0?n:r.length+n,a=[];for(let t=0;t<e.count;++t){const n=[];for(let e=o;e<=h;++e)n.push(r[e][t]);a.push(s(e.idGenerator.next(),n))}return a}function mergeExtraSegments(e,t){let n=t;for(;n.length>e.count;){const t=[];for(let s=0,r=n.length/2|0;s<r;++s)t.push(CodePathSegment.newNext(e.idGenerator.next(),[n[s],n[s+r]]));n=t}return n}class ForkContext{constructor(e,t,n){this.idGenerator=e,this.upper=t,this.count=n,this.segmentsList=[]}get head(){const e=this.segmentsList;return 0===e.length?[]:e[e.length-1]}get empty(){return 0===this.segmentsList.length}get reachable(){const e=this.head;return e.length>0&&e.some(isReachable)}makeNext(e,t){return makeSegments(this,e,t,CodePathSegment.newNext)}makeUnreachable(e,t){return makeSegments(this,e,t,CodePathSegment.newUnreachable)}makeDisconnected(e,t){return makeSegments(this,e,t,CodePathSegment.newDisconnected)}add(e){assert(e.length>=this.count,`${e.length} >= ${this.count}`),this.segmentsList.push(mergeExtraSegments(this,e))}replaceHead(e){assert(e.length>=this.count,`${e.length} >= ${this.count}`),this.segmentsList.splice(-1,1,mergeExtraSegments(this,e))}addAll(e){assert(e.count===this.count);const t=e.segmentsList;for(let e=0;e<t.length;++e)this.segmentsList.push(t[e])}clear(){this.segmentsList=[]}static newRoot(e){const t=new ForkContext(e,null,1);return t.add([CodePathSegment.newRoot(e.next())]),t}static newEmpty(e,t){return new ForkContext(e.idGenerator,e,(t?2:1)*e.count)}}module.exports=ForkContext;
//# sourceMappingURL=/sm/6adef58627e6d8fd50d5bb18fc5af9c3fae411855232820593543be600743ff5.map