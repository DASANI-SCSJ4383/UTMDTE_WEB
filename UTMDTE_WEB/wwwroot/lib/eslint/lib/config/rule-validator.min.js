/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/eslint@8.11.0/lib/config/rule-validator.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";const ajv=require("../shared/ajv")(),{parseRuleId:parseRuleId,getRuleFromConfig:getRuleFromConfig,getRuleOptionsSchema:getRuleOptionsSchema}=require("./flat-config-helpers"),ruleReplacements=require("../../conf/replacements.json");function throwRuleNotFoundError({pluginName:e,ruleName:r},o){const t=`Key "rules": Key "${"@"===e?r:`${e}/${r}`}"`;let s=`${t}: Could not find plugin "${e}".`;if(o.plugins&&o.plugins[e]){const l=ruleReplacements.rules[r];if("@"===e&&l)s=`${t}: Rule "${r}" was removed and replaced by "${l}".`;else{s=`${t}: Could not find "${r}" in plugin "${e}".`;for(const[e,t]of Object.entries(o.plugins))if(t.rules&&t.rules[r]){s+=` Did you mean "${e}/${r}"?`;break}}}throw new TypeError(s)}class RuleValidator{constructor(){this.validators=new WeakMap}validate(e){if(e.rules)for(const[r,o]of Object.entries(e.rules)){if("__proto__"===r)continue;if(0===o[0])continue;const t=getRuleFromConfig(r,e);if(t||throwRuleNotFoundError(parseRuleId(r),e),!this.validators.has(t)){const e=getRuleOptionsSchema(t);e&&this.validators.set(t,ajv.compile(e))}const s=this.validators.get(t);if(s&&(s(o.slice(1)),s.errors))throw new Error(`Key "rules": Key "${r}": ${s.errors.map((e=>`\tValue ${JSON.stringify(e.data)} ${e.message}.\n`)).join("")}`)}}}exports.RuleValidator=RuleValidator;
//# sourceMappingURL=/sm/3a8ad669575df4d84311892c1bdfc8b0028dbbe3192430e64456ab997d5aac70.map