/**
 * Minified by jsDelivr using Terser v5.9.0.
 * Original file: /npm/simplebar@5.3.6/src/simplebar.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import throttle from"lodash.throttle";import debounce from"lodash.debounce";import memoize from"lodash.memoize";import{ResizeObserver}from"@juggle/resize-observer";import canUseDOM from"can-use-dom";import scrollbarWidth from"./scrollbar-width";import{getElementWindow,getElementDocument}from"./helpers";export default class SimpleBar{constructor(t,s){this.el=t,this.minScrollbarWidth=20,this.options={...SimpleBar.defaultOptions,...s},this.classNames={...SimpleBar.defaultOptions.classNames,...this.options.classNames},this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}}},this.removePreventClickId=null,SimpleBar.instances.has(this.el)||(this.recalculate=throttle(this.recalculate.bind(this),64),this.onMouseMove=throttle(this.onMouseMove.bind(this),64),this.hideScrollbars=debounce(this.hideScrollbars.bind(this),this.options.timeout),this.onWindowResize=debounce(this.onWindowResize.bind(this),64,{leading:!0}),SimpleBar.getRtlHelpers=memoize(SimpleBar.getRtlHelpers),this.init())}static getRtlHelpers(){const t=document.createElement("div");t.innerHTML='<div class="hs-dummy-scrollbar-size"><div style="height: 200%; width: 200%; margin: 10px 0;"></div></div>';const s=t.firstElementChild;document.body.appendChild(s);const e=s.firstElementChild;s.scrollLeft=0;const i=SimpleBar.getOffset(s),l=SimpleBar.getOffset(e);s.scrollLeft=999;const r=SimpleBar.getOffset(e);return{isRtlScrollingInverted:i.left!==l.left&&l.left-r.left!=0,isRtlScrollbarInverted:i.left!==l.left}}static defaultOptions={autoHide:!0,forceVisible:!1,clickOnTrack:!0,clickOnTrackSpeed:40,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging"},scrollbarMinSize:25,scrollbarMaxSize:0,timeout:1e3};static getOffset(t){const s=t.getBoundingClientRect(),e=getElementDocument(t),i=getElementWindow(t);return{top:s.top+(i.pageYOffset||e.documentElement.scrollTop),left:s.left+(i.pageXOffset||e.documentElement.scrollLeft)}}static instances=new WeakMap;init(){SimpleBar.instances.set(this.el,this),canUseDOM&&(this.initDOM(),this.setAccessibilityAttributes(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())}initDOM(){if(Array.prototype.filter.call(this.el.children,(t=>t.classList.contains(this.classNames.wrapper))).length)this.wrapperEl=this.el.querySelector(`.${this.classNames.wrapper}`),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(`.${this.classNames.contentWrapper}`),this.contentEl=this.options.contentNode||this.el.querySelector(`.${this.classNames.contentEl}`),this.offsetEl=this.el.querySelector(`.${this.classNames.offset}`),this.maskEl=this.el.querySelector(`.${this.classNames.mask}`),this.placeholderEl=this.findChild(this.wrapperEl,`.${this.classNames.placeholder}`),this.heightAutoObserverWrapperEl=this.el.querySelector(`.${this.classNames.heightAutoObserverWrapperEl}`),this.heightAutoObserverEl=this.el.querySelector(`.${this.classNames.heightAutoObserverEl}`),this.axis.x.track.el=this.findChild(this.el,`.${this.classNames.track}.${this.classNames.horizontal}`),this.axis.y.track.el=this.findChild(this.el,`.${this.classNames.track}.${this.classNames.vertical}`);else{for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),this.wrapperEl.classList.add(this.classNames.wrapper),this.contentWrapperEl.classList.add(this.classNames.contentWrapper),this.offsetEl.classList.add(this.classNames.offset),this.maskEl.classList.add(this.classNames.mask),this.contentEl.classList.add(this.classNames.contentEl),this.placeholderEl.classList.add(this.classNames.placeholder),this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl)}if(!this.axis.x.track.el||!this.axis.y.track.el){const t=document.createElement("div"),s=document.createElement("div");t.classList.add(this.classNames.track),s.classList.add(this.classNames.scrollbar),t.appendChild(s),this.axis.x.track.el=t.cloneNode(!0),this.axis.x.track.el.classList.add(this.classNames.horizontal),this.axis.y.track.el=t.cloneNode(!0),this.axis.y.track.el.classList.add(this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}this.axis.x.scrollbar.el=this.axis.x.track.el.querySelector(`.${this.classNames.scrollbar}`),this.axis.y.scrollbar.el=this.axis.y.track.el.querySelector(`.${this.classNames.scrollbar}`),this.options.autoHide||(this.axis.x.scrollbar.el.classList.add(this.classNames.visible),this.axis.y.scrollbar.el.classList.add(this.classNames.visible)),this.el.setAttribute("data-simplebar","init")}setAccessibilityAttributes(){const t=this.options.ariaLabel||"scrollable content";this.contentWrapperEl.setAttribute("tabindex","0"),this.contentWrapperEl.setAttribute("role","region"),this.contentWrapperEl.setAttribute("aria-label",t)}initListeners(){const t=getElementWindow(this.el);this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach((t=>{this.el.addEventListener(t,this.onPointerEvent,!0)})),["touchstart","touchend","touchmove"].forEach((t=>{this.el.addEventListener(t,this.onPointerEvent,{capture:!0,passive:!0})})),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl.addEventListener("scroll",this.onScroll),t.addEventListener("resize",this.onWindowResize);let s=!1;const e=t.ResizeObserver||ResizeObserver;this.resizeObserver=new e((()=>{s&&this.recalculate()})),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),t.requestAnimationFrame((()=>{s=!0})),this.mutationObserver=new t.MutationObserver(this.recalculate),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}recalculate(){const t=getElementWindow(this.el);this.elStyles=t.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction;const s=this.heightAutoObserverEl.offsetHeight<=1,e=this.heightAutoObserverEl.offsetWidth<=1,i=this.contentEl.offsetWidth,l=this.contentWrapperEl.offsetWidth,r=this.elStyles.overflowX,o=this.elStyles.overflowY;this.contentEl.style.padding=`${this.elStyles.paddingTop} ${this.elStyles.paddingRight} ${this.elStyles.paddingBottom} ${this.elStyles.paddingLeft}`,this.wrapperEl.style.margin=`-${this.elStyles.paddingTop} -${this.elStyles.paddingRight} -${this.elStyles.paddingBottom} -${this.elStyles.paddingLeft}`;const a=this.contentEl.scrollHeight,h=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=s?"auto":"100%",this.placeholderEl.style.width=e?`${i}px`:"auto",this.placeholderEl.style.height=`${a}px`;const n=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=h>i,this.axis.y.isOverflowing=a>n,this.axis.x.isOverflowing="hidden"!==r&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==o&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible="y"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar();let c=this.axis.x.isOverflowing?this.scrollbarWidth:0,d=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&h>l-d,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&a>n-c,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el.style.width=`${this.axis.x.scrollbar.size}px`,this.axis.y.scrollbar.el.style.height=`${this.axis.y.scrollbar.size}px`,this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}getScrollbarSize(t="y"){if(!this.axis[t].isOverflowing)return 0;const s=this.contentEl[this.axis[t].scrollSizeAttr],e=this.axis[t].track.el[this.axis[t].offsetSizeAttr];let i,l=e/s;return i=Math.max(~~(l*e),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(i=Math.min(i,this.options.scrollbarMaxSize)),i}positionScrollbar(t="y"){if(!this.axis[t].isOverflowing)return;const s=this.contentWrapperEl[this.axis[t].scrollSizeAttr],e=this.axis[t].track.el[this.axis[t].offsetSizeAttr],i=parseInt(this.elStyles[this.axis[t].sizeAttr],10),l=this.axis[t].scrollbar;let r=this.contentWrapperEl[this.axis[t].scrollOffsetAttr];r="x"===t&&this.isRtl&&SimpleBar.getRtlHelpers().isRtlScrollingInverted?-r:r;let o=r/(s-i),a=~~((e-l.size)*o);a="x"===t&&this.isRtl&&SimpleBar.getRtlHelpers().isRtlScrollbarInverted?a+(e-l.size):a,l.el.style.transform="x"===t?`translate3d(${a}px, 0, 0)`:`translate3d(0, ${a}px, 0)`}toggleTrackVisibility(t="y"){const s=this.axis[t].track.el,e=this.axis[t].scrollbar.el;this.axis[t].isOverflowing||this.axis[t].forceVisible?(s.style.visibility="visible",this.contentWrapperEl.style[this.axis[t].overflowAttr]="scroll"):(s.style.visibility="hidden",this.contentWrapperEl.style[this.axis[t].overflowAttr]="hidden"),this.axis[t].isOverflowing?e.style.display="block":e.style.display="none"}hideNativeScrollbar(){this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?`-${this.scrollbarWidth}px`:0,this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?`-${this.scrollbarWidth}px`:0}onScroll=()=>{const t=getElementWindow(this.el);this.scrollXTicking||(t.requestAnimationFrame(this.scrollX),this.scrollXTicking=!0),this.scrollYTicking||(t.requestAnimationFrame(this.scrollY),this.scrollYTicking=!0)};scrollX=()=>{this.axis.x.isOverflowing&&(this.showScrollbar("x"),this.positionScrollbar("x")),this.scrollXTicking=!1};scrollY=()=>{this.axis.y.isOverflowing&&(this.showScrollbar("y"),this.positionScrollbar("y")),this.scrollYTicking=!1};onMouseEnter=()=>{this.showScrollbar("x"),this.showScrollbar("y")};onMouseMove=t=>{this.mouseX=t.clientX,this.mouseY=t.clientY,(this.axis.x.isOverflowing||this.axis.x.forceVisible)&&this.onMouseMoveForAxis("x"),(this.axis.y.isOverflowing||this.axis.y.forceVisible)&&this.onMouseMoveForAxis("y")};onMouseMoveForAxis(t="y"){this.axis[t].track.rect=this.axis[t].track.el.getBoundingClientRect(),this.axis[t].scrollbar.rect=this.axis[t].scrollbar.el.getBoundingClientRect();this.isWithinBounds(this.axis[t].scrollbar.rect)?this.axis[t].scrollbar.el.classList.add(this.classNames.hover):this.axis[t].scrollbar.el.classList.remove(this.classNames.hover),this.isWithinBounds(this.axis[t].track.rect)?(this.showScrollbar(t),this.axis[t].track.el.classList.add(this.classNames.hover)):this.axis[t].track.el.classList.remove(this.classNames.hover)}onMouseLeave=()=>{this.onMouseMove.cancel(),(this.axis.x.isOverflowing||this.axis.x.forceVisible)&&this.onMouseLeaveForAxis("x"),(this.axis.y.isOverflowing||this.axis.y.forceVisible)&&this.onMouseLeaveForAxis("y"),this.mouseX=-1,this.mouseY=-1};onMouseLeaveForAxis(t="y"){this.axis[t].track.el.classList.remove(this.classNames.hover),this.axis[t].scrollbar.el.classList.remove(this.classNames.hover)}onWindowResize=()=>{this.scrollbarWidth=this.getScrollbarWidth(),this.hideNativeScrollbar()};showScrollbar(t="y"){let s=this.axis[t].scrollbar.el;this.axis[t].isVisible||(s.classList.add(this.classNames.visible),this.axis[t].isVisible=!0),this.options.autoHide&&this.hideScrollbars()}hideScrollbars=()=>{this.axis.x.track.rect=this.axis.x.track.el.getBoundingClientRect(),this.axis.y.track.rect=this.axis.y.track.el.getBoundingClientRect(),this.isWithinBounds(this.axis.y.track.rect)||(this.axis.y.scrollbar.el.classList.remove(this.classNames.visible),this.axis.y.isVisible=!1),this.isWithinBounds(this.axis.x.track.rect)||(this.axis.x.scrollbar.el.classList.remove(this.classNames.visible),this.axis.x.isVisible=!1)};onPointerEvent=t=>{let s,e;this.axis.x.track.rect=this.axis.x.track.el.getBoundingClientRect(),this.axis.y.track.rect=this.axis.y.track.el.getBoundingClientRect(),(this.axis.x.isOverflowing||this.axis.x.forceVisible)&&(s=this.isWithinBounds(this.axis.x.track.rect)),(this.axis.y.isOverflowing||this.axis.y.forceVisible)&&(e=this.isWithinBounds(this.axis.y.track.rect)),(s||e)&&(t.preventDefault(),t.stopPropagation(),"mousedown"===t.type&&(s&&(this.axis.x.scrollbar.rect=this.axis.x.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(this.axis.x.scrollbar.rect)?this.onDragStart(t,"x"):this.onTrackClick(t,"x")),e&&(this.axis.y.scrollbar.rect=this.axis.y.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(this.axis.y.scrollbar.rect)?this.onDragStart(t,"y"):this.onTrackClick(t,"y"))))};onDragStart(t,s="y"){const e=getElementDocument(this.el),i=getElementWindow(this.el),l=this.axis[s].scrollbar,r="y"===s?t.pageY:t.pageX;this.axis[s].dragOffset=r-l.rect[this.axis[s].offsetAttr],this.draggedAxis=s,this.el.classList.add(this.classNames.dragging),e.addEventListener("mousemove",this.drag,!0),e.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(e.addEventListener("click",this.preventClick,!0),e.addEventListener("dblclick",this.preventClick,!0)):(i.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)}drag=t=>{let s;const e=this.axis[this.draggedAxis].track,i=e.rect[this.axis[this.draggedAxis].sizeAttr],l=this.axis[this.draggedAxis].scrollbar,r=this.contentWrapperEl[this.axis[this.draggedAxis].scrollSizeAttr],o=parseInt(this.elStyles[this.axis[this.draggedAxis].sizeAttr],10);t.preventDefault(),t.stopPropagation(),s="y"===this.draggedAxis?t.pageY:t.pageX;let a=(s-e.rect[this.axis[this.draggedAxis].offsetAttr]-this.axis[this.draggedAxis].dragOffset)/(i-l.size)*(r-o);"x"===this.draggedAxis&&(a=this.isRtl&&SimpleBar.getRtlHelpers().isRtlScrollbarInverted?a-(i+l.size):a,a=this.isRtl&&SimpleBar.getRtlHelpers().isRtlScrollingInverted?-a:a),this.contentWrapperEl[this.axis[this.draggedAxis].scrollOffsetAttr]=a};onEndDrag=t=>{const s=getElementDocument(this.el),e=getElementWindow(this.el);t.preventDefault(),t.stopPropagation(),this.el.classList.remove(this.classNames.dragging),s.removeEventListener("mousemove",this.drag,!0),s.removeEventListener("mouseup",this.onEndDrag,!0),this.removePreventClickId=e.setTimeout((()=>{s.removeEventListener("click",this.preventClick,!0),s.removeEventListener("dblclick",this.preventClick,!0),this.removePreventClickId=null}))};preventClick=t=>{t.preventDefault(),t.stopPropagation()};onTrackClick(t,s="y"){if(!this.options.clickOnTrack)return;const e=getElementWindow(this.el);this.axis[s].scrollbar.rect=this.axis[s].scrollbar.el.getBoundingClientRect();const i=this.axis[s].scrollbar.rect[this.axis[s].offsetAttr],l=parseInt(this.elStyles[this.axis[s].sizeAttr],10);let r=this.contentWrapperEl[this.axis[s].scrollOffsetAttr];const o=("y"===s?this.mouseY-i:this.mouseX-i)<0?-1:1,a=-1===o?r-l:r+l,h=()=>{-1===o?r>a&&(r-=this.options.clickOnTrackSpeed,this.contentWrapperEl.scrollTo({[this.axis[s].offsetAttr]:r}),e.requestAnimationFrame(h)):r<a&&(r+=this.options.clickOnTrackSpeed,this.contentWrapperEl.scrollTo({[this.axis[s].offsetAttr]:r}),e.requestAnimationFrame(h))};h()}getContentElement(){return this.contentEl}getScrollElement(){return this.contentWrapperEl}getScrollbarWidth(){try{return"none"===getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:scrollbarWidth(this.el)}catch(t){return scrollbarWidth(this.el)}}removeListeners(){const t=getElementWindow(this.el);this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach((t=>{this.el.removeEventListener(t,this.onPointerEvent,!0)})),["touchstart","touchend","touchmove"].forEach((t=>{this.el.removeEventListener(t,this.onPointerEvent,{capture:!0,passive:!0})})),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.recalculate.cancel(),this.onMouseMove.cancel(),this.hideScrollbars.cancel(),this.onWindowResize.cancel()}unMount(){this.removeListeners(),SimpleBar.instances.delete(this.el)}isWithinBounds(t){return this.mouseX>=t.left&&this.mouseX<=t.left+t.width&&this.mouseY>=t.top&&this.mouseY<=t.top+t.height}findChild(t,s){const e=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;return Array.prototype.filter.call(t.children,(t=>e.call(t,s)))[0]}}
//# sourceMappingURL=/sm/efb12c921ffcf3ea5768c63a3fae65be961cfd042291f2096b489e9caa7a92fb.map