/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/autoprefixer@10.4.4/lib/selector.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
let{list:list}=require("postcss"),OldSelector=require("./old-selector"),Prefixer=require("./prefixer"),Browsers=require("./browsers"),utils=require("./utils");class Selector extends Prefixer{constructor(e,r,t){super(e,r,t),this.regexpCache=new Map}check(e){return!!e.selector.includes(this.name)&&!!e.selector.match(this.regexp())}prefixed(e){return this.name.replace(/^(\W*)/,`$1${e}`)}regexp(e){if(!this.regexpCache.has(e)){let r=e?this.prefixed(e):this.name;this.regexpCache.set(e,new RegExp(`(^|[^:"'=])${utils.escapeRegexp(r)}`,"gi"))}return this.regexpCache.get(e)}possible(){return Browsers.prefixes()}prefixeds(e){if(e._autoprefixerPrefixeds){if(e._autoprefixerPrefixeds[this.name])return e._autoprefixerPrefixeds}else e._autoprefixerPrefixeds={};let r={};if(e.selector.includes(",")){let t=list.comma(e.selector).filter((e=>e.includes(this.name)));for(let e of this.possible())r[e]=t.map((r=>this.replace(r,e))).join(", ")}else for(let t of this.possible())r[t]=this.replace(e.selector,t);return e._autoprefixerPrefixeds[this.name]=r,e._autoprefixerPrefixeds}already(e,r,t){let s=e.parent.index(e)-1;for(;s>=0;){let i=e.parent.nodes[s];if("rule"!==i.type)return!1;let l=!1;for(let e in r[this.name]){let s=r[this.name][e];if(i.selector===s){if(t===e)return!0;l=!0;break}}if(!l)return!1;s-=1}return!1}replace(e,r){return e.replace(this.regexp(),`$1${this.prefixed(r)}`)}add(e,r){let t=this.prefixeds(e);if(this.already(e,t,r))return;let s=this.clone(e,{selector:t[this.name][r]});e.parent.insertBefore(e,s)}old(e){return new OldSelector(this,e)}}module.exports=Selector;
//# sourceMappingURL=/sm/1242930adfeb4de5acb5c72e8f8d248c98327e1fc0f364c6b383f3eca3238507.map