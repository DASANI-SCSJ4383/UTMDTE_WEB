/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/shelljs@0.8.5/src/mv.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var fs=require("fs"),path=require("path"),common=require("./common"),cp=require("./cp"),rm=require("./rm");function checkRecentCreated(e,r){var o=e[r];return e.slice(0,r).some((function(e){return path.basename(e)===path.basename(o)}))}function _mv(e,r,o){arguments.length<3?common.error("missing <source> and/or <dest>"):arguments.length>3?(r=[].slice.call(arguments,1,arguments.length-1),o=arguments[arguments.length-1]):"string"==typeof r?r=[r]:common.error("invalid arguments");var n=fs.existsSync(o),t=n&&common.statFollowLinks(o);return n&&t.isDirectory()||!(r.length>1)||common.error("dest is not a directory (too many sources)"),n&&t.isFile()&&e.no_force&&common.error("dest file already exists: "+o),r.forEach((function(n,t){if(fs.existsSync(n)){var s=o;if(fs.existsSync(o)&&common.statFollowLinks(o).isDirectory()&&(s=path.normalize(o+"/"+path.basename(n))),fs.existsSync(s)&&checkRecentCreated(r,t))e.no_force||common.error("will not overwrite just-created '"+s+"' with '"+n+"'",{continue:!0});else if(fs.existsSync(s)&&e.no_force)common.error("dest file already exists: "+s,{continue:!0});else if(path.resolve(n)!==path.dirname(path.resolve(s)))try{fs.renameSync(n,s)}catch(e){"EXDEV"===e.code&&(cp("-r",n,s),rm("-rf",n))}else common.error("cannot move to self: "+n,{continue:!0})}else common.error("no such file or directory: "+n,{continue:!0})})),""}common.register("mv",_mv,{cmdOptions:{f:"!no_force",n:"no_force"}}),module.exports=_mv;
//# sourceMappingURL=/sm/4e052cba9a264b71801844fda8fcfe113db7efeb9df23afc3ca3d98c9da459c2.map