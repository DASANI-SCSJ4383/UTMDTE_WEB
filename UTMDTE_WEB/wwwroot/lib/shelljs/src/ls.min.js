/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/shelljs@0.8.5/src/ls.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var path=require("path"),fs=require("fs"),common=require("./common"),glob=require("glob"),globPatternRecursive=path.sep+"**";function _ls(o,t){o.all_deprecated&&(common.log("ls: Option -a is deprecated. Use -A instead"),o.all=!0),t=t?[].slice.call(arguments,1):["."];var i=[];function r(t,r,e){"win32"===process.platform&&(r=r.replace(/\\/g,"/")),o.long?(e=e||(o.link?common.statFollowLinks(t):common.statNoFollowLinks(t)),i.push(addLsAttributes(r,e))):i.push(r)}return t.forEach((function(t){var i;try{if((i=o.link?common.statFollowLinks(t):common.statNoFollowLinks(t)).isSymbolicLink())try{var e=common.statFollowLinks(t);e.isDirectory()&&(i=e)}catch(o){}}catch(o){return void common.error("no such file or directory: "+t,2,{continue:!0})}i.isDirectory()&&!o.directory?o.recursive?glob.sync(t+globPatternRecursive,{dot:o.all,follow:o.link}).forEach((function(o){path.relative(t,o)&&r(o,path.relative(t,o))})):o.all?fs.readdirSync(t).forEach((function(o){r(path.join(t,o),o)})):fs.readdirSync(t).forEach((function(o){"."!==o[0]&&r(path.join(t,o),o)})):r(t,t,i)})),i}function addLsAttributes(o,t){return t.name=o,t.toString=function(){return[this.mode,this.nlink,this.uid,this.gid,this.size,this.mtime,this.name].join(" ")},t}common.register("ls",_ls,{cmdOptions:{R:"recursive",A:"all",L:"link",a:"all_deprecated",d:"directory",l:"long"}}),module.exports=_ls;
//# sourceMappingURL=/sm/2ad63553efbe42a5255e8f44148ba968e9f1e185bb31f8052bf22b383af3df2d.map