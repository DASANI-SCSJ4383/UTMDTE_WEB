/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/stylelint@14.6.0/lib/rules/function-calc-no-unspaced-operator/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";const valueParser=require("postcss-value-parser"),declarationValueIndex=require("../../utils/declarationValueIndex"),getDeclarationValue=require("../../utils/getDeclarationValue"),report=require("../../utils/report"),ruleMessages=require("../../utils/ruleMessages"),setDeclarationValue=require("../../utils/setDeclarationValue"),validateOptions=require("../../utils/validateOptions"),ruleName="function-calc-no-unspaced-operator",messages=ruleMessages(ruleName,{expectedBefore:e=>`Expected single space before "${e}" operator`,expectedAfter:e=>`Expected single space after "${e}" operator`,expectedOperatorBeforeSign:e=>`Expected an operator before sign "${e}"`}),meta={url:"https://stylelint.io/user-guide/rules/list/function-calc-no-unspaced-operator"},OPERATORS=new Set(["*","/","+","-"]),OPERATOR_REGEX=/[*/+-]/,rule=(e,s,r)=>(s,t)=>{function a(e,s,r){report({message:e,node:s,index:r,result:t,ruleName:ruleName})}validateOptions(t,ruleName,{actual:e})&&s.walkDecls((e=>{let s=!1;const t=declarationValueIndex(e),n=valueParser(getDeclarationValue(e));function u(n,u,l){const i=-1===l,c=n[u+l],o=n[u].value,f=n[u].sourceIndex;if(c&&!isSingleSpace(c)){if("word"===c.type){if(i){const s=c.value.slice(-1);if(OPERATORS.has(s))return r.fix?(c.value=`${c.value.slice(0,-1)} ${s}`,!0):(a(messages.expectedOperatorBeforeSign(o),e,f),!0)}else{const s=c.value.slice(0,1);if(OPERATORS.has(s))return r.fix?(c.value=`${s} ${c.value.slice(1)}`,!0):(a(messages.expectedAfter(o),e,f),!0)}return r.fix?(s=!0,c.value=i?`${c.value} `:` ${c.value}`,!0):(a(i?messages.expectedBefore(o):messages.expectedAfter(o),e,t+f),!0)}if("space"===c.type){const n=c.value.search(/(\n|\r\n)/);if(0===n)return;if(r.fix)return s=!0,c.value=-1===n?" ":c.value.slice(n),!0;return a(i?messages.expectedBefore(o):messages.expectedAfter(o),e,t+f),!0}if("function"===c.type){if(r.fix)return s=!0,n.splice(u,0,{type:"space",value:" ",sourceIndex:0,sourceEndIndex:1}),!0;return a(i?messages.expectedBefore(o):messages.expectedAfter(o),e,t+f),!0}}return!1}function l(n){if(!function(n){const u=n[0],l=(u.type,u.value.search(OPERATOR_REGEX)),i=u.value.slice(l,l+1);if(l<=0)return!1;const c=u.value.charAt(l-1),o=u.value.charAt(l+1);return c&&" "!==c&&o&&" "!==o?r.fix?(s=!0,u.value=insertCharAtIndex(u.value,l+1," "),u.value=insertCharAtIndex(u.value,l," ")):(a(messages.expectedBefore(i),e,t+u.sourceIndex+l),a(messages.expectedAfter(i),e,t+u.sourceIndex+l+1)):c&&" "!==c?r.fix?(s=!0,u.value=insertCharAtIndex(u.value,l," ")):a(messages.expectedBefore(i),e,t+u.sourceIndex+l):o&&" "!==o&&(r.fix?(s=!0,u.value=insertCharAtIndex(u.value,l," ")):a(messages.expectedAfter(i),e,t+u.sourceIndex+l+1)),!0}(n)&&!function(n){if(1===n.length)return!1;const u=n[n.length-1],l=(u.type,u.value.search(OPERATOR_REGEX));return" "!==u.value[l-1]&&(r.fix?(s=!0,u.value=insertCharAtIndex(u.value,l+1," ").trim(),u.value=insertCharAtIndex(u.value,l," ").trim(),!0):(a(messages.expectedOperatorBeforeSign(u.value[l]),e,t+u.sourceIndex+l),!0))}(n))for(const[s,t]of n.entries()){const u=t.value.slice(-1),l=t.value.slice(0,1);if("word"===t.type)if(0===s&&OPERATORS.has(u)){if(r.fix){t.value=`${t.value.slice(0,-1)} ${u}`;continue}a(messages.expectedBefore(u),e,t.sourceIndex)}else if(s===n.length&&OPERATORS.has(l)){if(r.fix){t.value=`${l} ${t.value.slice(1)}`;continue}a(messages.expectedOperatorBeforeSign(l),e,t.sourceIndex)}}}n.walk((e=>{if("function"!==e.type||"calc"!==e.value.toLowerCase())return;let s=!1;for(const[r,t]of e.nodes.entries()){if("word"!==t.type||!OPERATORS.has(t.value))continue;s=!0;const a=e.nodes[r-1],n=e.nodes[r+1];isSingleSpace(a)&&isSingleSpace(n)||(u(e.nodes,r,1)||u(e.nodes,r,-1))}s||l(e.nodes)})),s&&setDeclarationValue(e,n.toString())}))};function insertCharAtIndex(e,s,r){return e.slice(0,s)+r+e.slice(s,e.length)}function isSingleSpace(e){return e&&"space"===e.type&&" "===e.value}rule.ruleName=ruleName,rule.messages=messages,rule.meta=meta,module.exports=rule;
//# sourceMappingURL=/sm/618c5e05fcd71407abbe19057313e26079bea00e48d4dccdeb351f4367cd06ce.map