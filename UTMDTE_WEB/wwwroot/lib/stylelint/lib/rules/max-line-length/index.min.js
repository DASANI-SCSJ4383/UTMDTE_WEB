/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/stylelint@14.6.0/lib/rules/max-line-length/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";const execall=require("execall"),optionsMatches=require("../../utils/optionsMatches"),report=require("../../utils/report"),ruleMessages=require("../../utils/ruleMessages"),styleSearch=require("style-search"),validateOptions=require("../../utils/validateOptions"),{isNumber:isNumber,isRegExp:isRegExp,isString:isString}=require("../../utils/validateTypes"),ruleName="max-line-length",EXCLUDED_PATTERNS=[/url\(\s*(\S.*\S)\s*\)/gi,/@import\s+(['"].*['"])/gi],messages=ruleMessages(ruleName,{expected:e=>`Expected line length to be no more than ${e} ${1===e?"character":"characters"}`}),meta={url:"https://stylelint.io/user-guide/rules/list/max-line-length"},rule=(e,t,s)=>(n,r)=>{if(!validateOptions(r,ruleName,{actual:e,possible:isNumber},{actual:t,possible:{ignore:["non-comments","comments"],ignorePattern:[isString,isRegExp]},optional:!0}))return;if(null==n.source)throw new Error("The root node must have a source");const i=optionsMatches(t,"ignore","non-comments"),o=optionsMatches(t,"ignore","comments"),l=s.fix?n.toString():n.source.input.css;let u=[],a=0;for(const e of EXCLUDED_PATTERNS)for(const t of execall(e,l)){const e=t.subMatches[0]||"",s=t.index+t.match.indexOf(e);u.push([s,s+e.length])}function c(t){report({index:t,result:r,ruleName:ruleName,message:messages.expected(e),node:n})}function m(s){let n=l.indexOf("\n",s.endIndex);"\r"===l[n-1]&&(n-=1),-1===n&&(n=l.length);const r=n-s.endIndex,m=u[a]?function(e,t){const[s,n]=u[a];if(t<s)return 0;const r=Math.min(t,n)-Math.max(e,s);return n<=t&&a++,r}(s.endIndex,n):0,d=l.slice(s.endIndex,n);if(optionsMatches(t,"ignorePattern",d))return;if(r-m<=e)return;const g=n-1;if(o){if("insideComment"in s&&s.insideComment)return;const e=l.slice(s.endIndex).trim().slice(0,2);if("/*"===e||"//"===e)return}if(i){if("insideComment"in s&&s.insideComment)return c(g);const e=l.slice(s.endIndex).trim().slice(0,2);if("/*"!==e&&"//"!==e)return;return c(g)}return l.slice(s.endIndex,n).replace(/^\s+/,"").includes(" ")?c(g):void 0}u=u.sort(((e,t)=>e[0]-t[0])),m({endIndex:0}),styleSearch({source:l,target:["\n"],comments:"check"},(e=>m(e)))};rule.ruleName=ruleName,rule.messages=messages,rule.meta=meta,module.exports=rule;
//# sourceMappingURL=/sm/df5ba56c2d50f4aaacec6874b25813f3feccb958e3d05e6434b09270b1266557.map