/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/stylelint@14.6.0/lib/formatters/stringFormatter.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";const path=require("path"),stringWidth=require("string-width"),table=require("table"),{yellow:yellow,dim:dim,underline:underline,blue:blue,red:red,green:green}=require("picocolors"),terminalLink=require("./terminalLink"),MARGIN_WIDTHS=9;function nope(e){return e}const levelColors={info:blue,warning:yellow,error:red,success:nope},symbols={info:blue("ℹ"),warning:yellow("⚠"),error:red("✖"),success:green("✔")};function deprecationsFormatter(e){const t=e.flatMap((e=>e.deprecations));if(0===t.length)return"";const n=new Set;return t.reduce(((e,t)=>n.has(t.text)?e:(n.add(t.text),e+=yellow("Deprecation Warning: "),e+=t.text,t.reference&&(e+=dim(" See: "),e+=dim(underline(t.reference))),`${e}\n`)),"\n")}function invalidOptionsFormatter(e){const t=e.flatMap((e=>e.invalidOptionWarnings.map((e=>e.text))));return[...new Set(t)].reduce(((e,t)=>(e+=red("Invalid Option: "),`${e+=t}\n`)),"\n")}function logFrom(e,t){if(e.startsWith("<"))return underline(e);const n=path.relative(t,e).split(path.sep).join("/");return terminalLink(n,`file://${e}`)}function getMessageWidth(e){if(!process.stdout.isTTY)return e[3];const t=process.stdout.columns<80?80:process.stdout.columns,n=Object.values(e).reduce(((e,t)=>e+t));return t>n+9?e[3]:t-(n-e[3]+9)}function formatter(e,t,n){if(!e.length)return"";const r=[...e].sort(((e,t)=>!e.line&&t.line?-1:e.line&&!t.line?1:e.line<t.line?-1:e.line>t.line?1:e.column<t.column?-1:e.column>t.column?1:0)),i={0:1,1:1,2:1,3:1,4:1};let o="\n";function l(e){let t=e.text;t=t.replace(/[\u0001-\u001A]+/g," ").replace(/\.$/,"");const n=` (${e.rule})`;return t.endsWith(n)&&(t=t.slice(0,t.lastIndexOf(n))),t}t&&(o+=`${logFrom(t,n)}\n`);const s=r.map((e=>{const{line:t,column:n,severity:r}=e,o=[t?t.toString():"",n?n.toString():"",symbols[r]?levelColors[r](symbols[r]):r,l(e),dim(e.rule||"")];return function(e){for(const[t,n]of Object.entries(e)){const e=n?n.toString():n;i[t]=Math.max(i[t],stringWidth(e))}}(o),o}));return o+=table.table(s,{border:table.getBorderCharacters("void"),columns:{0:{alignment:"right",width:i[0],paddingRight:0},1:{alignment:"left",width:i[1]},2:{alignment:"center",width:i[2]},3:{alignment:"left",width:getMessageWidth(i),wrapWord:getMessageWidth(i)>1},4:{alignment:"left",width:i[4],paddingRight:0}},drawHorizontalLine:()=>!1}).split("\n").map((e=>e.replace(/(\d+)\s+(\d+)/,((e,t,n)=>dim(`${t}:${n}`))))).join("\n"),o}module.exports=function(e,t){let n=invalidOptionsFormatter(e);return n+=deprecationsFormatter(e),n=e.reduce(((e,n)=>{if(n.parseErrors)for(const e of n.parseErrors)n.warnings.push({line:e.line,column:e.column,rule:e.stylelintType,severity:"error",text:`${e.text} (${e.stylelintType})`});return e+=formatter(n.warnings,n.source||"",t&&t.cwd||process.cwd())}),n),n=n.trim(),""!==n&&(n=`\n${n}\n\n`),n};
//# sourceMappingURL=/sm/7a036dd60d1a29efa4a9cc1fe19385a080849c3fba54ace082f54c34c5b158d4.map