/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/eslint-plugin-unicorn@41.0.1/rules/prevent-abbreviations.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";const path=require("path"),{defaultsDeep:defaultsDeep,upperFirst:upperFirst,lowerFirst:lowerFirst}=require("lodash"),avoidCapture=require("./utils/avoid-capture.js"),cartesianProductSamples=require("./utils/cartesian-product-samples.js"),isShorthandPropertyValue=require("./utils/is-shorthand-property-value.js"),isShorthandImportLocal=require("./utils/is-shorthand-import-local.js"),getVariableIdentifiers=require("./utils/get-variable-identifiers.js"),isStaticRequire=require("./utils/is-static-require.js"),{defaultReplacements:defaultReplacements,defaultAllowList:defaultAllowList,defaultIgnore:defaultIgnore}=require("./shared/abbreviations.js"),{renameVariable:renameVariable}=require("./fix/index.js"),getScopes=require("./utils/get-scopes.js"),MESSAGE_ID_REPLACE="replace",MESSAGE_ID_SUGGESTION="suggestion",anotherNameMessage="A more descriptive name will do too.",messages={replace:`The {{nameTypeText}} \`{{discouragedName}}\` should be named \`{{replacement}}\`. ${anotherNameMessage}`,suggestion:`Please rename the {{nameTypeText}} \`{{discouragedName}}\`. Suggested names are: {{replacementsText}}. ${anotherNameMessage}`},isUpperCase=e=>e===e.toUpperCase(),isUpperFirst=e=>isUpperCase(e[0]),prepareOptions=({checkProperties:e=!1,checkVariables:t=!0,checkDefaultAndNamespaceImports:r="internal",checkShorthandImports:a="internal",checkShorthandProperties:n=!1,checkFilenames:p=!0,extendDefaultReplacements:s=!0,replacements:i={},extendDefaultAllowList:o=!0,allowList:l={},ignore:c=[]}={})=>{const m=s?defaultsDeep({},i,defaultReplacements):i,d=o?defaultsDeep({},l,defaultAllowList):l;return c=(c=[...defaultIgnore,...c]).map((e=>e instanceof RegExp?e:new RegExp(e,"u"))),{checkProperties:e,checkVariables:t,checkDefaultAndNamespaceImports:r,checkShorthandImports:a,checkShorthandProperties:n,checkFilenames:p,replacements:new Map(Object.entries(m).map((([e,t])=>[e,new Map(Object.entries(t))]))),allowList:new Map(Object.entries(d)),ignore:c}},getWordReplacements=(e,{replacements:t,allowList:r})=>{if(isUpperCase(e)||r.get(e))return[];const a=t.get(lowerFirst(e))||t.get(e)||t.get(upperFirst(e));let n=[];if(a){const t=isUpperCase(e[0])?upperFirst:lowerFirst;n=[...a.keys()].filter((e=>a.get(e))).map((e=>t(e)))}return n.length>0?n.sort():[]},getNameReplacements=(e,t,r=3)=>{const{allowList:a,ignore:n}=t;if(isUpperCase(e)||a.get(e)||n.some((t=>t.test(e))))return{total:0};const p=getWordReplacements(e,t);if(p.length>0)return{total:p.length,samples:p.slice(0,r)};const s=e.split(/(?=[^a-z])|(?<=[^A-Za-z])/).filter(Boolean);let i=!1;const o=s.map((e=>{const r=getWordReplacements(e,t);return r.length>0?(i=!0,r):[e]}));if(!i)return{total:0};const{total:l,samples:c}=cartesianProductSamples(o,r);return{total:l,samples:c.map((e=>e.join("")))}},getMessage=(e,t,r)=>{const{total:a,samples:n=[]}=t;if(1===a)return{messageId:"replace",data:{nameTypeText:r,discouragedName:e,replacement:n[0]}};let p=n.map((e=>`\`${e}\``)).join(", ");const s=a-n.length;return s>0&&(p+=`, ... (${s>99?"99+":s} more omitted)`),{messageId:"suggestion",data:{nameTypeText:r,discouragedName:e,replacementsText:p}}},isExportedIdentifier=e=>"VariableDeclarator"===e.parent.type&&e.parent.id===e?"VariableDeclaration"===e.parent.parent.type&&"ExportNamedDeclaration"===e.parent.parent.parent.type:("FunctionDeclaration"===e.parent.type&&e.parent.id===e||"ClassDeclaration"===e.parent.type&&e.parent.id===e||"TSTypeAliasDeclaration"===e.parent.type&&e.parent.id===e)&&"ExportNamedDeclaration"===e.parent.parent.type,shouldFix=e=>!getVariableIdentifiers(e).some((e=>isExportedIdentifier(e))),isDefaultOrNamespaceImportName=e=>"ImportDefaultSpecifier"===e.parent.type&&e.parent.local===e||("ImportNamespaceSpecifier"===e.parent.type&&e.parent.local===e||("ImportSpecifier"===e.parent.type&&e.parent.local===e&&"Identifier"===e.parent.imported.type&&"default"===e.parent.imported.name||!("VariableDeclarator"!==e.parent.type||e.parent.id!==e||!isStaticRequire(e.parent.init)))),isClassVariable=e=>{if(1!==e.defs.length)return!1;const[t]=e.defs;return"ClassName"===t.type},shouldReportIdentifierAsProperty=e=>"MemberExpression"===e.parent.type&&e.parent.property===e&&!e.parent.computed&&"AssignmentExpression"===e.parent.parent.type&&e.parent.parent.left===e.parent||("Property"===e.parent.type&&e.parent.key===e&&!e.parent.computed&&!e.parent.shorthand&&"ObjectExpression"===e.parent.parent.type||("ExportSpecifier"===e.parent.type&&e.parent.exported===e&&e.parent.local!==e||!("MethodDefinition"!==e.parent.type&&"PropertyDefinition"!==e.parent.type||e.parent.key!==e||e.parent.computed))),isInternalImport=e=>{let t="";return"Variable"===e.type?t=e.node.init.arguments[0].value:"ImportBinding"===e.type&&(t=e.parent.source.value),!t.includes("node_modules")&&(t.startsWith(".")||t.startsWith("/"))},create=e=>{const t=prepareOptions(e.options[0]),r=e.getPhysicalFilename(),a=new WeakMap,n=e=>{if(!isClassVariable(e))return i(e);{if("class"===e.scope.type){const[t]=e.defs,r=a.get(t.name);if(!r)return i(e);const n={name:e.name,scope:e.scope,defs:e.defs,identifiers:e.identifiers,references:[...e.references,...r.references]};return i(n)}const[t]=e.defs;a.set(t.name,e)}},p=new WeakMap,s=(e,t)=>t.every((t=>{const r=p.get(t);return!r||!r.has(e)})),i=r=>{if(0===r.defs.length)return;const[a]=r.defs;if("ImportDefaultSpecifier"===(n=a.name).parent.type&&n.parent.local===n||"ImportNamespaceSpecifier"===n.parent.type&&n.parent.local===n||"ImportSpecifier"===n.parent.type&&n.parent.local===n&&"Identifier"===n.parent.imported.type&&"default"===n.parent.imported.name||"VariableDeclarator"===n.parent.type&&n.parent.id===n&&isStaticRequire(n.parent.init)){if(!t.checkDefaultAndNamespaceImports)return;if("internal"===t.checkDefaultAndNamespaceImports&&!isInternalImport(a))return}var n;if(isShorthandImportLocal(a.name)){if(!t.checkShorthandImports)return;if("internal"===t.checkShorthandImports&&!isInternalImport(a))return}if(!t.checkShorthandProperties&&isShorthandPropertyValue(a.name))return;const i=getNameReplacements(r.name,t);if(0===i.total)return;const o=[...r.references.map((e=>e.from)),r.scope];i.samples=i.samples.map((e=>avoidCapture(e,o,s)));const l={...getMessage(a.name.name,i,"variable"),node:a.name};if(1===i.total&&shouldFix(r)&&i.samples[0]){const[e]=i.samples;for(const t of o){p.has(t)||p.set(t,new Set);p.get(t).add(e)}l.fix=t=>renameVariable(r,e,t)}e.report(l)},o=e=>{for(const t of e.variables)n(t)};return{Identifier(r){if(!t.checkProperties)return;if("__proto__"===r.name)return;const a=getNameReplacements(r.name,t);if(0===a.total)return;if(!("MemberExpression"===(n=r).parent.type&&n.parent.property===n&&!n.parent.computed&&"AssignmentExpression"===n.parent.parent.type&&n.parent.parent.left===n.parent||"Property"===n.parent.type&&n.parent.key===n&&!n.parent.computed&&!n.parent.shorthand&&"ObjectExpression"===n.parent.parent.type||"ExportSpecifier"===n.parent.type&&n.parent.exported===n&&n.parent.local!==n)&&("MethodDefinition"!==n.parent.type&&"PropertyDefinition"!==n.parent.type||n.parent.key!==n||n.parent.computed))return;var n;const p={...getMessage(r.name,a,"property"),node:r};e.report(p)},Program(a){if(!t.checkFilenames)return;if("<input>"===r||"<text>"===r)return;const n=path.basename(r),p=path.extname(n),s=getNameReplacements(path.basename(n,p),t);0!==s.total&&(s.samples=s.samples.map((e=>`${e}${p}`)),e.report({...getMessage(n,s,"filename"),node:a}))},"Program:exit"(){t.checkVariables&&(e=>{const t=getScopes(e);for(const e of t)o(e)})(e.getScope())}}},schema={type:"array",additionalItems:!1,items:[{type:"object",additionalProperties:!1,properties:{checkProperties:{type:"boolean"},checkVariables:{type:"boolean"},checkDefaultAndNamespaceImports:{type:["boolean","string"],pattern:"internal"},checkShorthandImports:{type:["boolean","string"],pattern:"internal"},checkShorthandProperties:{type:"boolean"},checkFilenames:{type:"boolean"},extendDefaultReplacements:{type:"boolean"},replacements:{$ref:"#/definitions/abbreviations"},extendDefaultAllowList:{type:"boolean"},allowList:{$ref:"#/definitions/booleanObject"},ignore:{type:"array",uniqueItems:!0}}}],definitions:{abbreviations:{type:"object",additionalProperties:{$ref:"#/definitions/replacements"}},replacements:{anyOf:[{enum:[!1]},{$ref:"#/definitions/booleanObject"}]},booleanObject:{type:"object",additionalProperties:{type:"boolean"}}}};module.exports={create:create,meta:{type:"suggestion",docs:{description:"Prevent abbreviations."},fixable:"code",schema:schema,messages:messages}};
//# sourceMappingURL=/sm/476292524c478da99b18896fe136451e53e9d7b305af4307bfd62c0cf40034f7.map