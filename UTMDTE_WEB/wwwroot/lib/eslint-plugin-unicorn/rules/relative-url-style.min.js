/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/eslint-plugin-unicorn@41.0.1/rules/relative-url-style.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";const{getStaticValue:getStaticValue}=require("eslint-utils"),{newExpressionSelector:newExpressionSelector}=require("./selectors/index.js"),{replaceStringLiteral:replaceStringLiteral}=require("./fix/index.js"),MESSAGE_ID_NEVER="never",MESSAGE_ID_ALWAYS="always",MESSAGE_ID_REMOVE="remove",messages={never:"Remove the `./` prefix from the relative URL.",always:"Add a `./` prefix to the relative URL.",remove:"Remove leading `./`."},templateLiteralSelector=[newExpressionSelector({name:"URL",argumentsLength:2})," > TemplateLiteral.arguments:first-child"].join(""),literalSelector=[newExpressionSelector({name:"URL",argumentsLength:2})," > Literal.arguments:first-child"].join(""),DOT_SLASH="./",TEST_URL_BASES=["https://example.com/a/b/","https://example.com/a/b.html"],isSafeToAddDotSlashToUrl=(e,t)=>{try{return new URL(e,t).href===new URL("./"+e,t).href}catch{}return!1},isSafeToAddDotSlash=(e,t=TEST_URL_BASES)=>t.every((t=>isSafeToAddDotSlashToUrl(e,t))),isSafeToRemoveDotSlash=(e,t=TEST_URL_BASES)=>t.every((t=>isSafeToAddDotSlashToUrl(e.slice("./".length),t)));function canAddDotSlash(e,t){const a=e.value;if(a.startsWith("./")||a.startsWith(".")||a.startsWith("/"))return!1;const r=e.parent.arguments[1],s=getStaticValue(r,t.getScope());return!(!s||"string"!=typeof s.value||!isSafeToAddDotSlash(a,[s.value]))||isSafeToAddDotSlash(a)}function canRemoveDotSlash(e,t){if(!e.raw.slice(1,-1).startsWith("./"))return!1;const a=e.parent.arguments[1],r=getStaticValue(a,t.getScope());return!(!r||"string"!=typeof r.value||!isSafeToRemoveDotSlash(e.value,[r.value]))||isSafeToRemoveDotSlash(e.value)}function addDotSlash(e,t){if(canAddDotSlash(e,t))return t=>replaceStringLiteral(t,e,"./",0,0)}function removeDotSlash(e,t){if(canRemoveDotSlash(e,t))return t=>replaceStringLiteral(t,e,"",0,2)}const create=e=>{const t=e.options[0]||"never",a={};return"never"===t&&(a[templateLiteralSelector]=function(e){const a=e.quasis[0];if(a.value.raw.startsWith("./"))return{node:e,messageId:t,suggest:[{messageId:"remove",fix(e){const t=a.range[0]+1;return e.removeRange([t,t+2])}}]}}),a[literalSelector]=function(a){if("string"!=typeof a.value)return;const r=("never"===t?removeDotSlash:addDotSlash)(a,e);return r?{node:a,messageId:t,fix:r}:void 0},a},schema=[{enum:["never","always"],default:"never"}];module.exports={create:create,meta:{type:"suggestion",docs:{description:"Enforce consistent relative URL style."},fixable:"code",hasSuggestions:!0,schema:schema,messages:messages}};
//# sourceMappingURL=/sm/ca554b766b1041cb87e785eb4a2cadd89a879fb979a0643d14af1d39d7cc3466.map