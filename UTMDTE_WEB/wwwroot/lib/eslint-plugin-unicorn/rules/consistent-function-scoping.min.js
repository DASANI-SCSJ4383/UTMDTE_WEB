/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/eslint-plugin-unicorn@41.0.1/rules/consistent-function-scoping.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";const{getFunctionHeadLocation:getFunctionHeadLocation,getFunctionNameWithKind:getFunctionNameWithKind}=require("eslint-utils"),getReferences=require("./utils/get-references.js"),{isNodeMatches:isNodeMatches}=require("./utils/is-node-matches.js"),MESSAGE_ID="consistent-function-scoping",messages={[MESSAGE_ID]:"Move {{functionNameWithKind}} to the outer scope."},isSameScope=(e,t)=>e&&t&&(e===t||e.block===t.block);function checkReferences(e,t,n){return getReferences(e).map((({resolved:e})=>e)).filter(Boolean).some((o=>o.references.some((e=>{if(isSameScope(t,e.from))return!0;const{resolved:n}=e,[o]=n.defs;return(!o||"FunctionName"!==o.type||n.name!==o.name.name)&&isSameScope(t,n.scope)}))||o.defs.some((e=>{const o=n.acquire(e.node);return isSameScope(t,o)}))||o.identifiers.some((o=>{if(!o.parent||"FunctionDeclaration"!==o.parent.type)return!1;if(n.acquire(o))return!1;const i=n.acquire(o.parent);return!!i&&!isSameScope(e,i)&&isSameScope(t,i.upper)}))))}const reactHooks=["useState","useEffect","useContext","useReducer","useCallback","useMemo","useRef","useImperativeHandle","useLayoutEffect","useDebugValue"].flatMap((e=>[e,`React.${e}`])),isReactHook=e=>e.block&&e.block.parent&&e.block.parent.callee&&isNodeMatches(e.block.parent.callee,reactHooks),isArrowFunctionWithThis=e=>"function"===e.type&&e.block&&"ArrowFunctionExpression"===e.block.type&&(e.thisFound||e.childScopes.some((e=>isArrowFunctionWithThis(e)))),iifeFunctionTypes=new Set(["FunctionExpression","ArrowFunctionExpression"]),isIife=e=>e&&iifeFunctionTypes.has(e.type)&&e.parent&&"CallExpression"===e.parent.type&&e.parent.callee===e;function checkNode(e,t){const n=t.acquire(e);if(!n||isArrowFunctionWithThis(n))return!0;let o=e.parent;"VariableDeclarator"===o.type&&(o=o.parent),"VariableDeclaration"===o.type&&(o=o.parent),"BlockStatement"===o.type&&(o=o.parent);const i=t.acquire(o);return!(i&&"global"!==i.type&&!isReactHook(i)&&!isIife(o))||checkReferences(n,i,t)}const create=e=>{const{checkArrowFunctions:t}={checkArrowFunctions:!0,...e.options[0]},n=e.getSourceCode(),{scopeManager:o}=n,i=[];return{":function"(){i.push(!1)},JSXElement(){i.length>0&&(i[i.length-1]=!0)},":function:exit"(e){if(!i.pop()&&("ArrowFunctionExpression"!==e.type||t)&&!checkNode(e,o))return{node:e,loc:getFunctionHeadLocation(e,n),messageId:MESSAGE_ID,data:{functionNameWithKind:getFunctionNameWithKind(e,n)}}}}},schema=[{type:"object",additionalProperties:!1,properties:{checkArrowFunctions:{type:"boolean",default:!0}}}];module.exports={create:create,meta:{type:"suggestion",docs:{description:"Move function definitions to the highest possible scope."},schema:schema,messages:messages}};
//# sourceMappingURL=/sm/f2a3712cc6bf4f527e9192e6e0fe512dbbb242e1da98256b69dab50337648238.map