/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/eslint-plugin-unicorn@41.0.1/rules/import-style.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";const{defaultsDeep:defaultsDeep}=require("lodash"),{getStringIfConstant:getStringIfConstant}=require("eslint-utils"),{callExpressionSelector:callExpressionSelector}=require("./selectors/index.js"),MESSAGE_ID="importStyle",messages={[MESSAGE_ID]:"Use {{allowedStyles}} import for module `{{moduleName}}`."},getActualImportDeclarationStyles=e=>{const{specifiers:t}=e;if(0===t.length)return["unassigned"];const n=new Set;for(const e of t)if("ImportDefaultSpecifier"!==e.type)if("ImportNamespaceSpecifier"!==e.type)if("ImportSpecifier"!==e.type);else{if("Identifier"===e.imported.type&&"default"===e.imported.name){n.add("default");continue}n.add("named")}else n.add("namespace");else n.add("default");return[...n]},getActualExportDeclarationStyles=e=>{const{specifiers:t}=e;if(0===t.length)return["unassigned"];const n=new Set;for(const e of t)if("ExportSpecifier"!==e.type);else{if("Identifier"===e.exported.type&&"default"===e.exported.name){n.add("default");continue}n.add("named")}return[...n]},getActualAssignmentTargetImportStyles=e=>{if("Identifier"===e.type||"ArrayPattern"===e.type)return["namespace"];if("ObjectPattern"===e.type){if(0===e.properties.length)return["unassigned"];const t=new Set;for(const n of e.properties)"RestElement"!==n.type?"Identifier"===n.key.type&&("default"===n.key.name?t.add("default"):t.add("named")):t.add("named");return[...t]}return[]},joinOr=e=>e.map(((t,n)=>n===e.length-1?t:n===e.length-2?t+" or":t+",")).join(" "),defaultStyles={chalk:{default:!0},path:{default:!0},util:{named:!0}},assignedDynamicImportSelector=["VariableDeclarator",'[init.type="AwaitExpression"]','[init.argument.type="ImportExpression"]'].join(""),assignedRequireSelector=["VariableDeclarator",'[init.type="CallExpression"]','[init.callee.type="Identifier"]','[init.callee.name="require"]'].join(""),create=e=>{let[{styles:t={},extendDefaultStyles:n=!0,checkImport:r=!0,checkDynamicImport:s=!0,checkExportFrom:a=!1,checkRequire:o=!0}={}]=e.options;t=n?defaultsDeep({},t,defaultStyles):t,t=new Map(Object.entries(t).map((([e,t])=>[e,new Set(Object.entries(t).filter((([,e])=>e)).map((([e])=>e)))])));const i=(t,n,r,s,a=!1)=>{if(!s||0===s.size)return;let o=s;if(a&&s.has("default")&&!s.has("namespace")&&(o=new Set(s),o.add("namespace")),r.every((e=>o.has(e))))return;const i={allowedStyles:(l=[...s.keys()],l.map(((e,t)=>t===l.length-1?e:t===l.length-2?e+" or":e+",")).join(" ")),moduleName:n};var l;e.report({node:t,messageId:MESSAGE_ID,data:i})};let l={};return r&&(l={...l,ImportDeclaration(n){const r=getStringIfConstant(n.source,e.getScope()),s=t.get(r),a=getActualImportDeclarationStyles(n);i(n,r,a,s)}}),s&&(l={...l,"ExpressionStatement > ImportExpression"(n){const r=getStringIfConstant(n.source,e.getScope()),s=t.get(r);i(n,r,["unassigned"],s)},[assignedDynamicImportSelector](n){const r=n.id,s=n.init.argument.source,a=getStringIfConstant(s,e.getScope());if(!a)return;const o=t.get(a),l=getActualAssignmentTargetImportStyles(r);i(n,a,l,o)}}),a&&(l={...l,ExportAllDeclaration(n){const r=getStringIfConstant(n.source,e.getScope()),s=t.get(r);i(n,r,["namespace"],s)},ExportNamedDeclaration(n){const r=getStringIfConstant(n.source,e.getScope()),s=t.get(r),a=getActualExportDeclarationStyles(n);i(n,r,a,s)}}),o&&(l={...l,[`ExpressionStatement > ${callExpressionSelector({name:"require",argumentsLength:1})}.expression`](n){const r=getStringIfConstant(n.arguments[0],e.getScope()),s=t.get(r);i(n,r,["unassigned"],s,!0)},[assignedRequireSelector](n){const r=n.id,s=n.init.arguments[0],a=getStringIfConstant(s,e.getScope());if(!a)return;const o=t.get(a),l=getActualAssignmentTargetImportStyles(r);i(n,a,l,o,!0)}}),l},schema={type:"array",additionalItems:!1,items:[{type:"object",additionalProperties:!1,properties:{checkImport:{type:"boolean"},checkDynamicImport:{type:"boolean"},checkExportFrom:{type:"boolean"},checkRequire:{type:"boolean"},extendDefaultStyles:{type:"boolean"},styles:{$ref:"#/definitions/moduleStyles"}}}],definitions:{moduleStyles:{type:"object",additionalProperties:{$ref:"#/definitions/styles"}},styles:{anyOf:[{enum:[!1]},{$ref:"#/definitions/booleanObject"}]},booleanObject:{type:"object",additionalProperties:{type:"boolean"}}}};module.exports={create:create,meta:{type:"problem",docs:{description:"Enforce specific import styles per module."},schema:schema,messages:messages}};
//# sourceMappingURL=/sm/4c08a904182289e303788ea52ac67b21da3acf1c0636065fc7e9b22746fc41b8.map