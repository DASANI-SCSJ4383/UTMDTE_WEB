/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/eslint-plugin-unicorn@41.0.1/rules/prefer-array-find.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";const{isParenthesized:isParenthesized,findVariable:findVariable}=require("eslint-utils"),{not:not,methodCallSelector:methodCallSelector,notLeftHandSideSelector:notLeftHandSideSelector}=require("./selectors/index.js"),getVariableIdentifiers=require("./utils/get-variable-identifiers.js"),avoidCapture=require("./utils/avoid-capture.js"),getScopes=require("./utils/get-scopes.js"),singular=require("./utils/singular.js"),{extendFixRange:extendFixRange,removeMemberExpressionProperty:removeMemberExpressionProperty,removeMethodCall:removeMethodCall,renameVariable:renameVariable}=require("./fix/index.js"),ERROR_ZERO_INDEX="error-zero-index",ERROR_SHIFT="error-shift",ERROR_DESTRUCTURING_DECLARATION="error-destructuring-declaration",ERROR_DESTRUCTURING_ASSIGNMENT="error-destructuring-assignment",ERROR_DECLARATION="error-variable",SUGGESTION_NULLISH_COALESCING_OPERATOR="suggest-nullish-coalescing-operator",SUGGESTION_LOGICAL_OR_OPERATOR="suggest-logical-or-operator",messages={"error-variable":"Prefer `.find(…)` over `.filter(…)`.",[ERROR_ZERO_INDEX]:"Prefer `.find(…)` over `.filter(…)[0]`.",[ERROR_SHIFT]:"Prefer `.find(…)` over `.filter(…).shift()`.",[ERROR_DESTRUCTURING_DECLARATION]:"Prefer `.find(…)` over destructuring `.filter(…)`.",[ERROR_DESTRUCTURING_ASSIGNMENT]:"Prefer `.find(…)` over destructuring `.filter(…)`.",[SUGGESTION_NULLISH_COALESCING_OPERATOR]:"Replace `.filter(…)` with `.find(…) ?? …`.",[SUGGESTION_LOGICAL_OR_OPERATOR]:"Replace `.filter(…)` with `.find(…) || …`."},filterMethodSelectorOptions={method:"filter",minimumArguments:1,maximumArguments:2},filterVariableSelector=["VariableDeclaration",not("ExportNamedDeclaration > .declaration")," > ","VariableDeclarator.declarations",'[id.type="Identifier"]',methodCallSelector({...filterMethodSelectorOptions,path:"init"})].join(""),zeroIndexSelector=["MemberExpression","[computed!=false]",'[property.type="Literal"]','[property.raw="0"]',notLeftHandSideSelector(),methodCallSelector({...filterMethodSelectorOptions,path:"object"})].join(""),shiftSelector=[methodCallSelector({method:"shift",argumentsLength:0}),methodCallSelector({...filterMethodSelectorOptions,path:"callee.object"})].join(""),destructuringDeclaratorSelector=["VariableDeclarator",'[id.type="ArrayPattern"]',"[id.elements.length=1]",'[id.elements.0.type!="RestElement"]',methodCallSelector({...filterMethodSelectorOptions,path:"init"})].join(""),destructuringAssignmentSelector=["AssignmentExpression",'[left.type="ArrayPattern"]',"[left.elements.length=1]",'[left.elements.0.type!="RestElement"]',methodCallSelector({...filterMethodSelectorOptions,path:"right"})].join(""),assignmentNeedParenthesize=(e,t)=>{if(!("AssignmentExpression"===e.type)||isParenthesized(e,t))return!1;const{left:r}=getDestructuringLeftAndRight(e),[i]=r.elements,{type:n}="AssignmentPattern"===i.type?i.left:i;return"ObjectExpression"===n||"ObjectPattern"===n},hasLowerPrecedence=(e,t)=>"LogicalExpression"===e.type&&(e.operator===t||"||"===t&&"??"===e.operator||"??"===t&&("||"===e.operator||"&&"===e.operator))||"ConditionalExpression"===e.type||"AssignmentExpression"===e.type||"YieldExpression"===e.type||"SequenceExpression"===e.type,getDestructuringLeftAndRight=e=>e?"AssignmentExpression"===e.type?e:"VariableDeclarator"===e.type?{left:e.id,right:e.init}:{}:{};function*fixDestructuring(e,t,r){const{left:i}=getDestructuringLeftAndRight(e),[n]=i.elements,s=t.getText("AssignmentPattern"===n.type?n.left:n);yield r.replaceText(i,s),assignmentNeedParenthesize(e,t)&&(yield r.insertTextBefore(e,"("),yield r.insertTextAfter(e,")"))}const hasDefaultValue=e=>"AssignmentPattern"===getDestructuringLeftAndRight(e).left.elements[0].type,fixDestructuringDefaultValue=(e,t,r,i)=>{const{left:n,right:s}=getDestructuringLeftAndRight(e),[o]=n.elements,l=o.right;let a=t.getText(l);return(isParenthesized(l,t)||hasLowerPrecedence(l,i))&&(a=`(${a})`),r.insertTextAfter(s,` ${i} ${a}`)},fixDestructuringAndReplaceFilter=(e,t)=>{const{property:r}=getDestructuringLeftAndRight(t).right.callee;let i,n;return hasDefaultValue(t)?i=[{operator:"??",messageId:SUGGESTION_NULLISH_COALESCING_OPERATOR},{operator:"||",messageId:SUGGESTION_LOGICAL_OR_OPERATOR}].map((({messageId:i,operator:n})=>({messageId:i,*fix(i){yield i.replaceText(r,"find"),yield fixDestructuringDefaultValue(t,e,i,n),yield*fixDestructuring(t,e,i)}}))):n=function*(i){yield i.replaceText(r,"find"),yield*fixDestructuring(t,e,i)},{fix:n,suggest:i}},isAccessingZeroIndex=e=>e.parent&&"MemberExpression"===e.parent.type&&!0===e.parent.computed&&e.parent.object===e&&e.parent.property&&"Literal"===e.parent.property.type&&"0"===e.parent.property.raw,isDestructuringFirstElement=e=>{const{left:t,right:r}=getDestructuringLeftAndRight(e.parent);return t&&r&&r===e&&"ArrayPattern"===t.type&&t.elements&&1===t.elements.length&&"RestElement"!==t.elements[0].type},create=e=>{const t=e.getSourceCode();return{[zeroIndexSelector]:e=>({node:e.object.callee.property,messageId:ERROR_ZERO_INDEX,fix:r=>[r.replaceText(e.object.callee.property,"find"),removeMemberExpressionProperty(r,e,t)]}),[shiftSelector]:e=>({node:e.callee.object.callee.property,messageId:ERROR_SHIFT,fix:r=>[r.replaceText(e.callee.object.callee.property,"find"),...removeMethodCall(r,e,t)]}),[destructuringDeclaratorSelector]:e=>({node:e.init.callee.property,messageId:ERROR_DESTRUCTURING_DECLARATION,...fixDestructuringAndReplaceFilter(t,e)}),[destructuringAssignmentSelector]:e=>({node:e.right.callee.property,messageId:ERROR_DESTRUCTURING_ASSIGNMENT,...fixDestructuringAndReplaceFilter(t,e)}),[filterVariableSelector](r){const i=e.getScope(),n=findVariable(i,r.id),s=getVariableIdentifiers(n).filter((e=>e!==r.id));if(0===s.length)return;const o=[],l=[];for(const e of s)if(isAccessingZeroIndex(e))o.push(e.parent);else{if(!isDestructuringFirstElement(e))return;l.push(e.parent)}const a={node:r.init.callee.property,messageId:"error-variable"};return l.some((e=>hasDefaultValue(e)))||(a.fix=function*(e){yield e.replaceText(r.init.callee.property,"find");const s=singular(r.id.name);if(s){const r=avoidCapture(s,getScopes(i));yield*renameVariable(n,r,e),yield*extendFixRange(e,t.ast.range)}for(const r of o)yield removeMemberExpressionProperty(e,r,t);for(const r of l)yield*fixDestructuring(r,t,e)}),a}}};module.exports={create:create,meta:{type:"suggestion",docs:{description:"Prefer `.find(…)` over the first element from `.filter(…)`."},fixable:"code",hasSuggestions:!0,messages:messages}};
//# sourceMappingURL=/sm/aab701519bc2eb3f9e4307184498de0e634a861c98507f96cd85ca29d7745f06.map