/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/eslint-plugin-unicorn@41.0.1/rules/no-useless-promise-resolve-reject.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";const{matches:matches,methodCallSelector:methodCallSelector}=require("./selectors/index.js"),{getParenthesizedRange:getParenthesizedRange}=require("./utils/parentheses.js"),MESSAGE_ID_RESOLVE="resolve",MESSAGE_ID_REJECT="reject",messages={resolve:"Prefer `{{type}} value` over `{{type}} Promise.resolve(value)`.",reject:"Prefer `throw error` over `{{type}} Promise.reject(error)`."},selector=[methodCallSelector({object:"Promise",methods:["resolve","reject"]}),matches(["ArrowFunctionExpression > .body","ReturnStatement > .argument","YieldExpression[delegate!=true] > .argument"])].join(""),functionTypes=new Set(["ArrowFunctionExpression","FunctionDeclaration","FunctionExpression"]);function getFunctionNode(e){let t,r=!1;for(;e;e=e.parent){if(functionTypes.has(e.type)){t=e;break}"TryStatement"===e.type&&(r=!0)}return{functionNode:t,isInTryStatement:r}}function isPromiseCallback(e){if("CallExpression"===e.parent.type&&"MemberExpression"===e.parent.callee.type&&!e.parent.callee.computed&&"Identifier"===e.parent.callee.property.type){const{callee:{property:t},arguments:r}=e.parent;if(1===r.length&&("then"===t.name||"catch"===t.name||"finally"===t.name)&&r[0]===e)return!0;if(2===r.length&&"then"===t.name&&(r[0]===e||"SpreadElement"!==r[0].type&&r[1]===e))return!0}return!1}function createProblem(e,t){const{callee:r,parent:n}=e;return{node:r,messageId:r.property.name,data:{type:"YieldExpression"===n.type?"yield":"return"},fix:t}}function fix(e,t,r){if(e.arguments.length>1)return;const{callee:n,parent:o,arguments:[s]}=e;if(s&&"SpreadElement"===s.type)return;const a="reject"===n.property.name,i="YieldExpression"===o.type;return a&&(t||i&&"ExpressionStatement"!==o.parent.type)?void 0:function(t){const n="ArrowFunctionExpression"===o.type;let c=s?r.getText(s):"";if(s&&"SequenceExpression"===s.type&&(c=`(${c})`),a){if(c=c||"undefined",c=`throw ${c}`,i)return t.replaceTextRange(getParenthesizedRange(o,r),c);if(c+=";",n)return c=`{ ${c} }`,t.replaceTextRange(getParenthesizedRange(e,r),c)}else i?c=`yield${c?" ":""}${c}`:"ReturnStatement"===o.type?c=`return${c?" ":""}${c};`:(s&&"ObjectExpression"===s.type&&(c=`(${c})`),c=c||"{}");return t.replaceText(n?e:o,c)}}const create=e=>{const t=e.getSourceCode();return{[selector](e){const{functionNode:r,isInTryStatement:n}=getFunctionNode(e);if(r&&(r.async||isPromiseCallback(r)))return createProblem(e,fix(e,n,t))}}};module.exports={create:create,meta:{type:"suggestion",docs:{description:"Disallow returning/yielding `Promise.resolve/reject()` in async functions or promise callbacks"},fixable:"code",messages:messages}};
//# sourceMappingURL=/sm/78e726bef265b9b940dcd595cca7619c7bbc0f04f2a79196c9423a3f47571809.map