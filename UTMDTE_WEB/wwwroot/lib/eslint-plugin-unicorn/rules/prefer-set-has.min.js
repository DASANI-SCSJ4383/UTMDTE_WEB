/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/eslint-plugin-unicorn@41.0.1/rules/prefer-set-has.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";const{findVariable:findVariable}=require("eslint-utils"),getVariableIdentifiers=require("./utils/get-variable-identifiers.js"),{matches:matches,not:not,methodCallSelector:methodCallSelector,callOrNewExpressionSelector:callOrNewExpressionSelector}=require("./selectors/index.js"),MESSAGE_ID_ERROR="error",MESSAGE_ID_SUGGESTION="suggestion",messages={error:"`{{name}}` should be a `Set`, and use `{{name}}.has()` to check existence or non-existence.",suggestion:"Switch `{{name}}` to `Set`."},arrayExpressionSelector=['[init.type="ArrayExpression"]'].join(""),newArraySelector=callOrNewExpressionSelector({name:"Array",path:"init"}),arrayStaticMethodSelector=methodCallSelector({object:"Array",methods:["from","of"],path:"init"}),arrayMethodSelector=methodCallSelector({methods:["concat","copyWithin","fill","filter","flat","flatMap","map","reverse","slice","sort","splice"],path:"init"}),selector=["VariableDeclaration",not("ExportNamedDeclaration > .declaration")," > ","VariableDeclarator.declarations",matches([arrayExpressionSelector,newArraySelector,arrayStaticMethodSelector,arrayMethodSelector])," > ","Identifier.id"].join(""),isIncludesCall=e=>{if(!e.parent||!e.parent.parent)return!1;const{type:t,optional:r,callee:a,arguments:n}=e.parent.parent;return"CallExpression"===t&&!r&&a&&"MemberExpression"===a.type&&!a.computed&&!a.optional&&a.object===e&&"Identifier"===a.property.type&&"includes"===a.property.name&&1===n.length&&"SpreadElement"!==n[0].type},multipleCallNodeTypes=new Set(["ForOfStatement","ForStatement","ForInStatement","WhileStatement","DoWhileStatement","FunctionDeclaration","FunctionExpression","ArrowFunctionExpression"]),isMultipleCall=(e,t)=>{const r=t.parent.parent.parent;let{parent:a}=e.parent;for(;a&&a!==r;){if(multipleCallNodeTypes.has(a.type))return!0;a=a.parent}return!1},create=e=>({[selector](t){const r=findVariable(e.getScope(),t);if(!r)return;const a=getVariableIdentifiers(r).filter((e=>e!==t));if(0===a.length||a.some((e=>!isIncludesCall(e))))return;if(1===a.length&&a.every((e=>!isMultipleCall(e,t))))return;const n={node:t,messageId:"error",data:{name:t.name}},i=function*(e){yield e.insertTextBefore(t.parent.init,"new Set("),yield e.insertTextAfter(t.parent.init,")");for(const t of a)yield e.replaceText(t.parent.property,"has")};return t.typeAnnotation?n.suggest=[{messageId:"suggestion",data:{name:t.name},fix:i}]:n.fix=i,n}});module.exports={create:create,meta:{type:"suggestion",docs:{description:"Prefer `Set#has()` over `Array#includes()` when checking for existence or non-existence."},fixable:"code",hasSuggestions:!0,messages:messages}};
//# sourceMappingURL=/sm/fc919c0a029cc6f93d5d512f8d3be9ede6b4bb899529c78cadf74ed777abd8d3.map