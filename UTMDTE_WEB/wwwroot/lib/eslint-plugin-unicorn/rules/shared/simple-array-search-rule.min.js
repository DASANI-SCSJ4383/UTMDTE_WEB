/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/eslint-plugin-unicorn@41.0.1/rules/shared/simple-array-search-rule.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";const{hasSideEffect:hasSideEffect,isParenthesized:isParenthesized,findVariable:findVariable}=require("eslint-utils"),{matches:matches,methodCallSelector:methodCallSelector}=require("../selectors/index.js"),isFunctionSelfUsedInside=require("../utils/is-function-self-used-inside.js"),getBinaryExpressionSelector=e=>[`[${e}.type="BinaryExpression"]`,`[${e}.operator="==="]`,`:matches([${e}.left.type="Identifier"], [${e}.right.type="Identifier"])`].join(""),getFunctionSelector=e=>[`[${e}.generator!=true]`,`[${e}.async!=true]`,`[${e}.params.length=1]`,`[${e}.params.0.type="Identifier"]`].join(""),callbackFunctionSelector=e=>matches([[`[${e}.type="ArrowFunctionExpression"]`,getFunctionSelector(e),getBinaryExpressionSelector(`${e}.body`)].join(""),[`:matches([${e}.type="ArrowFunctionExpression"], [${e}.type="FunctionExpression"])`,getFunctionSelector(e),`[${e}.body.type="BlockStatement"]`,`[${e}.body.body.length=1]`,`[${e}.body.body.0.type="ReturnStatement"]`,getBinaryExpressionSelector(`${e}.body.body.0.argument`)].join("")]),isIdentifierNamed=({type:e,name:t},n)=>"Identifier"===e&&t===n;function simpleArraySearchRule({method:e,replacement:t}){const n=`prefer-${t}-over-${e}/`,i=`${n}/error`,r=`${n}/suggestion`,o={[i]:{findIndex:"Use `.indexOf()` instead of `.findIndex()` when looking for the index of an item.",some:`Use \`.${t}()\` instead of \`.${e}()\` when checking value existence.`}[e],[r]:`Replace \`.${e}()\` with \`.${t}()\`.`},s=[methodCallSelector({method:e,argumentsLength:1}),(a="arguments.0",matches([[`[${a}.type="ArrowFunctionExpression"]`,getFunctionSelector(a),getBinaryExpressionSelector(`${a}.body`)].join(""),[`:matches([${a}.type="ArrowFunctionExpression"], [${a}.type="FunctionExpression"])`,getFunctionSelector(a),`[${a}.body.type="BlockStatement"]`,`[${a}.body.body.length=1]`,`[${a}.body.body.0.type="ReturnStatement"]`,getBinaryExpressionSelector(`${a}.body.body.0.argument`)].join("")]))].join("");var a;return{messages:o,createListeners:function(e){const n=e.getSourceCode(),{scopeManager:o}=n;return{[s](e){const[s]=e.arguments,a="BinaryExpression"===s.body.type?s.body:s.body.body[0].argument,[c]=s.params,{left:d,right:l}=a,{name:u}=c;let y,p;if(isIdentifierNamed(d,u))y=l,p=d;else{if(!isIdentifierNamed(l,u))return;y=d,p=l}const f=o.acquire(s);if(findVariable(f,c).references.some((({identifier:e})=>e!==p))||isFunctionSelfUsedInside(s,f))return;const m=e.callee.property,g={node:m,messageId:i,suggest:[]},h=function*(e){let i=n.getText(y);isParenthesized(y,n)&&!isParenthesized(s,n)&&(i=`(${i})`),yield e.replaceText(m,t),yield e.replaceText(s,i)};return hasSideEffect(y,n)?g.suggest.push({messageId:r,fix:h}):g.fix=h,g}}}}}module.exports=simpleArraySearchRule;
//# sourceMappingURL=/sm/c368ce91a3dc44d38ea0396669df9c25d2fa539104249834ff357cc040fb9936.map