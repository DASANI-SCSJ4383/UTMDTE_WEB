/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/@babel/core@7.17.5/lib/transformation/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";function _traverse(){const e=require("@babel/traverse");return _traverse=function(){return e},e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.run=run;var _pluginPass=require("./plugin-pass"),_blockHoistPlugin=require("./block-hoist-plugin"),_normalizeOpts=require("./normalize-opts"),_normalizeFile=require("./normalize-file"),_generate=require("./file/generate"),_deepArray=require("../config/helpers/deep-array");function*run(e,o,r){const n=yield*(0,_normalizeFile.default)(e.passes,(0,_normalizeOpts.default)(e),o,r),t=n.opts;try{yield*transformFile(n,e.passes)}catch(e){var s;throw e.message=`${null!=(s=t.filename)?s:"unknown"}: ${e.message}`,e.code||(e.code="BABEL_TRANSFORM_ERROR"),e}let a,i;try{!1!==t.code&&({outputCode:a,outputMap:i}=(0,_generate.default)(e.passes,n))}catch(e){var u;throw e.message=`${null!=(u=t.filename)?u:"unknown"}: ${e.message}`,e.code||(e.code="BABEL_GENERATE_ERROR"),e}return{metadata:n.metadata,options:t,ast:!0===t.ast?n.ast:null,code:void 0===a?null:a,map:void 0===i?null:i,sourceType:n.ast.program.sourceType,externalDependencies:(0,_deepArray.flattenToSet)(e.externalDependencies)}}function*transformFile(e,o){for(const r of o){const o=[],n=[],t=[];for(const s of r.concat([(0,_blockHoistPlugin.default)()])){const r=new _pluginPass.default(e,s.key,s.options);o.push([s,r]),n.push(r),t.push(s.visitor)}for(const[r,n]of o){const o=r.pre;if(o){const r=o.call(n,e);if(yield*[],isThenable(r))throw new Error("You appear to be using an plugin with an async .pre, which your current version of Babel does not support. If you're using a published plugin, you may need to upgrade your @babel/core version.")}}const s=_traverse().default.visitors.merge(t,n,e.opts.wrapPluginVisitorMethod);(0,_traverse().default)(e.ast,s,e.scope);for(const[r,n]of o){const o=r.post;if(o){const r=o.call(n,e);if(yield*[],isThenable(r))throw new Error("You appear to be using an plugin with an async .post, which your current version of Babel does not support. If you're using a published plugin, you may need to upgrade your @babel/core version.")}}}}function isThenable(e){return!(!e||"object"!=typeof e&&"function"!=typeof e||!e.then||"function"!=typeof e.then)}
//# sourceMappingURL=/sm/49495a83270667d77f9b161be77e03715c19c0b02dd965e8e45e2f333da7ec59.map