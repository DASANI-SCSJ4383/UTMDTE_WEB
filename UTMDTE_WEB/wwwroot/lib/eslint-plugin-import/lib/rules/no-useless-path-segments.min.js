/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/eslint-plugin-import@2.25.4/lib/rules/no-useless-path-segments.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var _ignore=require("eslint-module-utils/ignore"),_moduleVisitor=require("eslint-module-utils/moduleVisitor"),_moduleVisitor2=_interopRequireDefault(_moduleVisitor),_resolve=require("eslint-module-utils/resolve"),_resolve2=_interopRequireDefault(_resolve),_path=require("path"),_path2=_interopRequireDefault(_path),_docsUrl=require("../docsUrl"),_docsUrl2=_interopRequireDefault(_docsUrl);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function toRelativePath(e){var t=e.replace(/\/$/g,"");return/^((\.\.)|(\.))($|\/)/.test(t)?t:"./"+String(t)}function normalize(e){return toRelativePath(_path2.default.posix.normalize(e))}function countRelativeParents(e){return e.reduce((function(e,t){return".."===t?e+1:e}),0)}module.exports={meta:{type:"suggestion",docs:{url:(0,_docsUrl2.default)("no-useless-path-segments")},fixable:"code",schema:[{type:"object",properties:{commonjs:{type:"boolean"},noUselessIndex:{type:"boolean"}},additionalProperties:!1}]},create:function(e){var t=_path2.default.dirname(e.getPhysicalFilename?e.getPhysicalFilename():e.getFilename()),r=e.options[0];return(0,_moduleVisitor2.default)((function(i){var n=i.value;function o(t){e.report({node:i,message:'Useless path segments for "'+String(n)+'", should be "'+String(t)+'"',fix:function(e){return t&&e.replaceText(i,JSON.stringify(t))}})}if(n.startsWith(".")){var l=(0,_resolve2.default)(n,e),a=normalize(n),s=(0,_resolve2.default)(a,e);if(a!==n&&l===s)return o(a);var u=(0,_ignore.getFileExtensions)(e.settings),d=new RegExp(".*\\/index(\\"+String(Array.from(u).join("|\\"))+")?$");if(r&&r.noUselessIndex&&d.test(n)){var f=_path2.default.dirname(n);if("."!==f&&".."!==f){var c=!0,p=!1,_=void 0;try{for(var v,m=u[Symbol.iterator]();!(c=(v=m.next()).done);c=!0){var g=v.value;if((0,_resolve2.default)(""+String(f)+String(g),e))return o(String(f)+"/")}}catch(e){p=!0,_=e}finally{try{!c&&m.return&&m.return()}finally{if(p)throw _}}}return o(f)}if(!n.startsWith("./")&&void 0!==l){var h=_path2.default.relative(t,l).split(_path2.default.sep),y=n.replace(/^\.\//,"").split("/"),R=countRelativeParents(y),x=countRelativeParents(h),q=R-x;if(!(q<=0))return o(toRelativePath(y.slice(0,x).concat(y.slice(R+q)).join("/")))}}}),r)}};
//# sourceMappingURL=/sm/d7ab04cb335b1ba93ed960a203857c7c232d66cac69be154c4b7fb42e29a815a.map