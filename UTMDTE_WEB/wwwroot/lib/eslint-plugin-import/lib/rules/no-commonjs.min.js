/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/eslint-plugin-import@2.25.4/lib/rules/no-commonjs.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var _docsUrl=require("../docsUrl"),_docsUrl2=_interopRequireDefault(_docsUrl);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var EXPORT_MESSAGE='Expected "export" or "export default"',IMPORT_MESSAGE='Expected "import" instead of "require()"';function normalizeLegacyOptions(e){return e.indexOf("allow-primitive-modules")>=0?{allowPrimitiveModules:!0}:e[0]||{}}function allowPrimitive(e,t){return!!t.allowPrimitiveModules&&("AssignmentExpression"===e.parent.type&&"ObjectExpression"!==e.parent.right.type)}function allowRequire(e,t){return t.allowRequire}function allowConditionalRequire(e,t){return!1!==t.allowConditionalRequire}function validateScope(e){return"module"===e.variableScope.type}function isConditional(e){return"IfStatement"===e.type||"TryStatement"===e.type||"LogicalExpression"===e.type||"ConditionalExpression"===e.type||!!e.parent&&isConditional(e.parent)}function isLiteralString(e){return"Literal"===e.type&&"string"==typeof e.value||"TemplateLiteral"===e.type&&0===e.expressions.length}var schemaString={enum:["allow-primitive-modules"]},schemaObject={type:"object",properties:{allowPrimitiveModules:{type:"boolean"},allowRequire:{type:"boolean"},allowConditionalRequire:{type:"boolean"}},additionalProperties:!1};module.exports={meta:{type:"suggestion",docs:{url:(0,_docsUrl2.default)("no-commonjs")},schema:{anyOf:[{type:"array",items:[schemaString],additionalItems:!1},{type:"array",items:[schemaObject],additionalItems:!1}]}},create:function(e){var t=normalizeLegacyOptions(e.options);return{MemberExpression:function(i){if("module"===i.object.name&&"exports"===i.property.name){if(allowPrimitive(i,t))return;e.report({node:i,message:EXPORT_MESSAGE})}"exports"===i.object.name&&(e.getScope().variables.some((function(e){return"exports"===e.name}))||e.report({node:i,message:EXPORT_MESSAGE}))},CallExpression:function(i){validateScope(e.getScope())&&"Identifier"===i.callee.type&&"require"===i.callee.name&&1===i.arguments.length&&isLiteralString(i.arguments[0])&&(allowRequire(i,t)||allowConditionalRequire(i,t)&&isConditional(i.parent)||e.report({node:i.callee,message:IMPORT_MESSAGE}))}}}};
//# sourceMappingURL=/sm/c4051439d7b309f6c7b8c87858b5eaec92b06fcd2542b9b2e32d0e9970296274.map