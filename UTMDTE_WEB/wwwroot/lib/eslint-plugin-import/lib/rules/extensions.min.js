/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/eslint-plugin-import@2.25.4/lib/rules/extensions.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var _path=require("path"),_path2=_interopRequireDefault(_path),_resolve=require("eslint-module-utils/resolve"),_resolve2=_interopRequireDefault(_resolve),_importType=require("../core/importType"),_moduleVisitor=require("eslint-module-utils/moduleVisitor"),_moduleVisitor2=_interopRequireDefault(_moduleVisitor),_docsUrl=require("../docsUrl"),_docsUrl2=_interopRequireDefault(_docsUrl);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var enumValues={enum:["always","ignorePackages","never"]},patternProperties={type:"object",patternProperties:{".*":enumValues}},properties={type:"object",properties:{pattern:patternProperties,ignorePackages:{type:"boolean"}}};function buildProperties(e){var t={defaultConfig:"never",pattern:{},ignorePackages:!1};return e.options.forEach((function(e){"string"!=typeof e?void 0!==e.pattern||void 0!==e.ignorePackages?(void 0!==e.pattern&&Object.assign(t.pattern,e.pattern),void 0!==e.ignorePackages&&(t.ignorePackages=e.ignorePackages)):Object.assign(t.pattern,e):t.defaultConfig=e})),"ignorePackages"===t.defaultConfig&&(t.defaultConfig="always",t.ignorePackages=!0),t}module.exports={meta:{type:"suggestion",docs:{url:(0,_docsUrl2.default)("extensions")},schema:{anyOf:[{type:"array",items:[enumValues],additionalItems:!1},{type:"array",items:[enumValues,properties],additionalItems:!1},{type:"array",items:[properties],additionalItems:!1},{type:"array",items:[patternProperties],additionalItems:!1},{type:"array",items:[enumValues,patternProperties],additionalItems:!1}]}},create:function(e){var t=buildProperties(e);function r(e){return t.pattern[e]||t.defaultConfig}function i(e){return"never"===r(e)}return(0,_moduleVisitor2.default)((function(a,o){if(a&&a.value){var n=a.value;if(!(0,_importType.isBuiltIn)(n,e.settings)){var s=n.replace(/\?(.*)$/,"");if(!(0==(l=(u=s).split("/").length-1)||(0,_importType.isScoped)(u)&&l<=1)){var u,l,p=(0,_resolve2.default)(s,e),d=_path2.default.extname(p||s).substring(1),f=(0,_importType.isExternalModule)(s,(0,_resolve2.default)(s,e),e)||(0,_importType.isScoped)(s);if(d&&s.endsWith("."+String(d)))d&&i(d)&&function(t){var r=_path2.default.extname(t),i=t.slice(0,-r.length);return(0,_resolve2.default)(i,e)===(0,_resolve2.default)(t,e)}(s)&&e.report({node:a,message:'Unexpected use of file extension "'+String(d)+'" for "'+String(n)+'"'});else{if("type"===o.importKind)return;var g=function(e,i){return!("always"!==r(e)||t.ignorePackages&&i)}(d,f),c=i(d);g&&!c&&e.report({node:a,message:"Missing file extension "+(d?'"'+String(d)+'" ':"")+'for "'+String(n)+'"'})}}}}}),{commonjs:!0})}};
//# sourceMappingURL=/sm/59e2a535574b34392d2811a34a6b6d92a3d215ab7b18a044f96396e40a1b7872.map