/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/eslint-plugin-import@2.25.4/lib/rules/namespace.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var _declaredScope=require("eslint-module-utils/declaredScope"),_declaredScope2=_interopRequireDefault(_declaredScope),_ExportMap=require("../ExportMap"),_ExportMap2=_interopRequireDefault(_ExportMap),_importDeclaration=require("../importDeclaration"),_importDeclaration2=_interopRequireDefault(_importDeclaration),_docsUrl=require("../docsUrl"),_docsUrl2=_interopRequireDefault(_docsUrl);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}module.exports={meta:{type:"problem",docs:{url:(0,_docsUrl2.default)("namespace")},schema:[{type:"object",properties:{allowComputed:{description:"If `false`, will report computed (and thus, un-lintable) references to namespace members.",type:"boolean",default:!1}},additionalProperties:!1}]},create:function(e){var r=(e.options[0]||{}).allowComputed,t=void 0!==r&&r,a=new Map;function o(e,r){return"'"+String(e.name)+"' not found in "+(r.length>1?"deeply ":"")+"imported namespace '"+String(r.join("."))+"'."}return{Program:function(r){r.body.forEach((function(r){if("ImportDeclaration"===r.type&&0!==r.specifiers.length){var t=_ExportMap2.default.get(r.source.value,e);if(null==t)return null;if(t.errors.length)t.reportErrors(e,r);else{var o=!0,n=!1,p=void 0;try{for(var i,l=r.specifiers[Symbol.iterator]();!(o=(i=l.next()).done);o=!0){var s=i.value;switch(s.type){case"ImportNamespaceSpecifier":t.size||e.report(s,"No exported names found in module '"+String(r.source.value)+"'."),a.set(s.local.name,t);break;case"ImportDefaultSpecifier":case"ImportSpecifier":var c=t.get(s.imported?s.imported.name:"default");if(!c||!c.namespace)break;a.set(s.local.name,c.namespace)}}}catch(e){n=!0,p=e}finally{try{!o&&l.return&&l.return()}finally{if(n)throw p}}}}}))},ExportNamespaceSpecifier:function(r){var t=(0,_importDeclaration2.default)(e),a=_ExportMap2.default.get(t.source.value,e);if(null==a)return null;a.errors.length?a.reportErrors(e,t):a.size||e.report(r,"No exported names found in module '"+String(t.source.value)+"'.")},MemberExpression:function(r){if("Identifier"===r.object.type&&a.has(r.object.name)&&"module"===(0,_declaredScope2.default)(e,r.object.name)){"AssignmentExpression"===r.parent.type&&r.parent.left===r&&e.report(r.parent,"Assignment to member of namespace '"+String(r.object.name)+"'.");for(var n=a.get(r.object.name),p=[r.object.name];n instanceof _ExportMap2.default&&"MemberExpression"===r.type;){if(r.computed)return void(t||e.report(r.property,"Unable to validate computed reference to imported namespace '"+String(r.object.name)+"'."));if(!n.has(r.property.name)){e.report(r.property,o(r.property,p));break}var i=n.get(r.property.name);if(null==i)return;p.push(r.property.name),n=i.namespace,r=r.parent}}},VariableDeclarator:function(r){var t=r.id,n=r.init;null!=n&&"Identifier"===n.type&&a.has(n.name)&&"module"===(0,_declaredScope2.default)(e,n.name)&&function r(t,a){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[n.name];if(a instanceof _ExportMap2.default&&"ObjectPattern"===t.type){var i=!0,l=!1,s=void 0;try{for(var c,u=t.properties[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var m=c.value;if("ExperimentalRestProperty"!==m.type&&"RestElement"!==m.type&&m.key)if("Identifier"===m.key.type)if(a.has(m.key.name)){p.push(m.key.name);var d=a.get(m.key.name);null!==d&&r(m.value,d.namespace,p),p.pop()}else e.report({node:m,message:o(m.key,p)});else e.report({node:m,message:"Only destructure top-level names."})}}catch(e){l=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(l)throw s}}}}(t,a.get(n.name))},JSXMemberExpression:function(r){var t=r.object,n=r.property;a.has(t.name)&&(a.get(t.name).has(n.name)||e.report({node:n,message:o(n,[t.name])}))}}}};
//# sourceMappingURL=/sm/e10978ef4e811b44fb9cbea8befc7bd90478f34ab6a677b565c7c6cf24f7452e.map