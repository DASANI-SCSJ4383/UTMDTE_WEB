/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/browser-sync@2.27.9/dist/file-watcher.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var _=require("./lodash.custom"),utils=require("./utils"),Rx=require("rx");function watch(t,e,n){"function"==typeof e&&(n=e,e={});var r=require("chokidar").watch(t,e);return _.isFunction(n)&&r.on("all",n),r}module.exports.plugin=function(t){var e=t.options,n=t.emitter,r=e.get("watchOptions").toJS();return e.get("files").reduce((function(e,i,o){var c=function(t,e){n.emit("file:changed",{event:t,path:e,namespace:o})},a=i.toJS();if(a.globs.length){var u=watch(a.globs,r,c);e[o]={watchers:[u]}}return a.objs.length&&a.objs.forEach((function(n){_.isFunction(n.fn)||(n.fn=c);var i=watch(n.match,n.options||r,n.fn.bind(t.publicInstance));e[o]?e[o].watchers.push(i):e[o]={watchers:[i]}})),e}),{})},module.exports.watch=watch;
//# sourceMappingURL=/sm/906c6844540cb5a8425a147370098385471b210f4ed570891c040d4e760fe2c8.map