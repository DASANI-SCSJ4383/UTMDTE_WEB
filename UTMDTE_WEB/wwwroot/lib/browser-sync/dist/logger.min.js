/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/browser-sync@2.27.9/dist/logger.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var messages=require("./connect-utils"),utils=require("./utils"),_=require("./lodash.custom"),template="[{blue:%s}] ",logger=require("eazy-logger").Logger({useLevelPrefixes:!1});function logUrls(e){var n=Object.keys(e),o=0,t=0;if(n.length){var r=n.map((function(n){return n.length>o&&(o=n.length),e[n].length>t&&(t=e[n].length),n})),i=getChars(o+2+t+1,"-"),g=!1;logger.info("{bold:Access URLs:"),logger.unprefixed("info","{grey: %s",i),n.forEach((function(n,t){var s=getKeyName(n);logger.unprefixed("info"," %s: {magenta:%s}",getPadding(n.length,o+2)+s,e[n]),!g&&r[t+1]&&r[t+1].indexOf("ui")>-1&&(g=!0,logger.unprefixed("info","{grey: %s}",i))})),logger.unprefixed("info","{grey: %s}",i)}}function getPadding(e,n){return new Array(n-(e+1)).join(" ")}function getChars(e,n){return new Array(e).join(n)}function getKeyName(e){if(e.indexOf("ui")>-1){if("ui"===e)return"UI";if("ui-external"===e)return"UI External"}return e.substr(0,1).toUpperCase()+e.substring(1)}function canLogFileChange(e,n){return(!n||!1!==n.log)&&e.options.get("logFileChanges")}module.exports.logger=logger,module.exports.getLogger=function(e){return logger.clone((function(n){return n.prefix=n.prefix+template.replace("%s",e),n}))},module.exports.callbacks={"file:watching":function(e,n){Object.keys(n).length&&logger.info("Watching files...")},"file:reload":function(e,n){if(canLogFileChange(e,n)){if("*"===n.path[0])return logger.info("{cyan:Reloading files that match: {magenta:%s",n.path);logger.info("{cyan:File event ["+n.event+"] : {magenta:%s",n.path)}},"service:exit":function(){logger.debug("Exiting...")},"browser:reload":function(e,n={}){if(canLogFileChange(e)){if(n.files&&n.files.length>1)return logger.info(`{cyan:Reloading Browsers... (buffered ${n.files.length} events)`);logger.info("{cyan:Reloading Browsers...")}},"browser:error":function(){logger.error("Couldn't open browser (if you are using BrowserSync in a headless environment, you might want to set the {cyan:open} option to {cyan:false})")},"stream:changed":function(e,n){if(canLogFileChange(e)){var o=n.changed;logger.info("{cyan:%s %s changed} ({magenta:%s})",o.length,o.length>1?"files":"file",o.join(", "))}},"client:connected":function(e,n){var o=utils.getUaString(n.ua),t="info";e.options.get("logConnections")||(t="debug"),logger.log(t,"{cyan:Browser Connected: {magenta:%s, version: %s}",o.name,o.version)},"service:running":function(e,n){const o=n.type;if(e.options.get("json"))return console.log(JSON.stringify({"service:running":{options:e.options.toJS()}}));if("server"===o){var t=e.options.getIn(["server","baseDir"]);logUrls(e.options.get("urls").toJS()),t&&(utils.isList(t)?t.forEach(r):r(t))}function r(e){logger.info("Serving files from: {magenta:%s}",e)}"proxy"===o&&(logger.info("Proxying: {cyan:%s}",e.options.getIn(["proxy","target"])),logUrls(e.options.get("urls").toJS())),"snippet"===o&&(e.options.get("logSnippet")&&(logger.info("{bold:Copy the following snippet into your website, just before the closing {cyan:</body>} tag"),logger.unprefixed("info",messages.scriptTags(e.options))),logUrls(e.options.get("urls").filter((function(e,n){return"ui"===n.slice(0,2)})).toJS()))}},module.exports.plugin=function(e,n){var o=n.options.get("logPrefix"),t=n.options.get("logLevel");return logger.setLevel(t),o&&(_.isFunction(o)?logger.setPrefix(o):logger.setPrefix(template.replace("%s",o))),_.each(exports.callbacks,(function(o,t){e.on(t,o.bind(this,n))})),logger};
//# sourceMappingURL=/sm/892660fbb26fb0f1be92aa8ab0692c2b02c513b03e683aed5cae050bb77ca2ea.map