/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/browser-sync@2.27.9/dist/internal-events.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var utils=require("./utils"),fileUtils=require("./file-utils"),Rx=require("rx"),fromEvent=Rx.Observable.fromEvent,fileHandler=require("./file-event-handler");module.exports=function(e){var n={"file:reload":function(n){e.io.sockets.emit("file:reload",n)},"browser:reload":function(){e.io.sockets.emit("browser:reload")},"browser:notify":function(n){e.io.sockets.emit("browser:notify",n)},"service:running":function(n){var i=e.options.get("mode"),t=e.options.get("open");"proxy"!==i&&"server"!==i&&"ui"!==t&&"ui-external"!==t||utils.openBrowser(n.url,e.options,e),e.watchers&&e.events.emit("file:watching",e.watchers)},"options:set":function(n){e.io&&e.io.sockets.emit("options:set",n)},"plugins:configure":function(n){n.active?e.pluginManager.enablePlugin(n.name):e.pluginManager.disablePlugin(n.name),e.setOption("userPlugins",e.getUserPlugins())},"plugins:opts":function(n){e.pluginManager.pluginOptions[n.name]&&(e.pluginManager.pluginOptions[n.name]=n.opts,e.setOption("userPlugins",e.getUserPlugins()))}};Object.keys(n).forEach((function(i){e.events.on(i,n[i])}));var i=fileHandler.applyReloadOperators(fromEvent(e.events,"_browser:reload"),e.options).subscribe((function(){e.events.emit("browser:reload")})),t=fromEvent(e.events,"file:changed").filter((function(){return e.options.get("codeSync")})).filter((function(e){return"core"===e.namespace})),o=fileHandler.fileChanges(t,e.options).subscribe((function(n){"reload"===n.type&&e.events.emit("browser:reload",n),"inject"===n.type&&n.files.forEach((function(n){e.paused||"core"!==n.namespace||e.events.emit("file:reload",fileUtils.getFileInfo(n,e.options))}))}));e.registerCleanupTask((function(){o.dispose(),i.dispose()}))};
//# sourceMappingURL=/sm/a7fb98f922ae4a795e2b5e022c50468618bb8a285824a512f8615203d33c76c3.map