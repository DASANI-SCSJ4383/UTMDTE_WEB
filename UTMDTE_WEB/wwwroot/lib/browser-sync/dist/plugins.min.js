/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/browser-sync@2.27.9/dist/plugins.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var Immutable=require("immutable"),Map=Immutable.Map,isMap=Immutable.Map.isMap,List=Immutable.List,qs=require("qs"),path=require("path"),fs=require("fs"),Plugin=Immutable.Record({moduleName:"",name:"",active:!0,module:void 0,options:Map({}),via:"inline",dir:process.cwd(),init:void 0,errors:List([])});function resolvePlugin(e){if("string"==typeof e)return getFromString(e);if(!isMap(e))return(new Plugin).mergeDeep({errors:[new Error("Plugin not supported in this format")]});if(e.has("module")){var r=e.get("module"),t=e.get("options");if("string"==typeof r)return getFromString(r).mergeDeep({options:t});if(Immutable.Map.isMap(r))return new Plugin({module:r,options:t})}return e.has("plugin")?new Plugin({module:e}):(new Plugin).mergeDeep({errors:[new Error("Plugin was not configured correctly")]})}function requirePlugin(e){if(e.get("module")&&"string"!=typeof e.get("module"))return e;try{var r=require.resolve(e.get("name"));return e.set("module",require(r))}catch(t){if("MODULE_NOT_FOUND"===t.code){r=path.resolve(process.cwd(),e.get("name"));return fs.existsSync(r)?e.set("module",require(r)):e.update("errors",(function(e){return e.concat(t)}))}throw t}}function getFromString(e){var r=e.split("?"),t=new Plugin({moduleName:r[0],name:r[0]});return r.length>1?t.update("options",(function(e){return e.mergeDeep(qs.parse(r[1]))})):t}module.exports.resolvePlugin=resolvePlugin,module.exports.requirePlugin=requirePlugin;
//# sourceMappingURL=/sm/32b1ddcf091a82d49b9dabf6dbff47bca156be0dafee5f6332c46c99632a7ada.map