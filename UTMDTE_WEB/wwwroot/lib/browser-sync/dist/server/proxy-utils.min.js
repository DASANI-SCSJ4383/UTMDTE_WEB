/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/browser-sync@2.27.9/dist/server/proxy-utils.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var url=require("url");function rewriteCookies(e){var r,t=(r={},e.split(/; */).forEach((function(e){var t=e.indexOf("=");if(!(t<0)){var o=e.substr(0,t).trim();r[o]=e.substr(t+1,e.length).trim()}})),r),o=Object.keys(t).filter((function(e){return"domain"!==e.toLowerCase()})).map((function(e){return e+"="+t[e]}));return e.match(/httponly/i)&&o.push("HttpOnly"),o.join("; ")}module.exports.rewriteLinks=function(e){var r=e.hostname,t=r,o=e.port;return r&&o&&80!==parseInt(o,10)&&(t=r+":"+o),{match:new RegExp("https?:\\\\/\\\\/"+t+"|('|\")\\/\\/"+t+"|https?://"+t+"(?!:)(/)?|('|\")(https?://|/|\\.)?"+t+"(?!:)(/)?(.*?)(?=[ ,'\"\\s])","g"),fn:function(e,r,o){var i=e.headers.host;if("."===o[0])return o;var s="'"===o[0]||'"'===o[0]?o[0]:"";"'"!==o[0]&&'"'!==o[0]||(o=o.slice(1));var n=url.parse(o);return n.host?("/"===n.path&&("/"===o.slice(-1)?n.path="/":n.path=""),[s,"//",i,n.path||"",n.hash||""].join("")):(t=t.replace(/^(\/)/,""),s+o.replace(t,i))}}},module.exports.checkCookies=function(e){void 0!==e.headers["set-cookie"]&&(e.headers["set-cookie"]=e.headers["set-cookie"].map((function(e){return rewriteCookies(e)})))},module.exports.rewriteCookies=rewriteCookies;
//# sourceMappingURL=/sm/73da5d13122c69d12ff1d0da0c83d95a6228e04bb23435ae6d2fd9cbf9d9481e.map