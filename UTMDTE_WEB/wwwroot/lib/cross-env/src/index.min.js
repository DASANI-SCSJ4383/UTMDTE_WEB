/**
 * Minified by jsDelivr using Terser v5.3.5.
 * Original file: /npm/cross-env@7.0.3/src/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
const{spawn:spawn}=require("cross-spawn"),commandConvert=require("./command"),varValueConvert=require("./variable");module.exports=crossEnv;const envSetterRegex=/(\w+)=('(.*)'|"(.*)"|(.*))/;function crossEnv(e,n={}){const[r,o,s]=parseCommand(e),t=getEnvVars(r);if(o){const e=spawn(commandConvert(o,t,!0),s.map((e=>commandConvert(e,t))),{stdio:"inherit",shell:n.shell,env:t});return process.on("SIGTERM",(()=>e.kill("SIGTERM"))),process.on("SIGINT",(()=>e.kill("SIGINT"))),process.on("SIGBREAK",(()=>e.kill("SIGBREAK"))),process.on("SIGHUP",(()=>e.kill("SIGHUP"))),e.on("exit",((e,n)=>{let r=e;null===r&&(r="SIGINT"===n?0:1),process.exit(r)})),e}return null}function parseCommand(e){const n={};let r=null,o=[];for(let s=0;s<e.length;s++){const t=envSetterRegex.exec(e[s]);if(!t){let n=[];n=e.slice(s).map((e=>e.replace(/\\\\|(\\)?'|([\\])(?=[$"\\])/g,(e=>"\\\\"===e?"\\":"\\'"===e?"'":"")))),r=n[0],o=n.slice(1);break}{let e;e=void 0!==t[3]?t[3]:void 0===t[4]?t[5]:t[4],n[t[1]]=e}}return[n,r,o]}function getEnvVars(e){const n={...process.env};return process.env.APPDATA&&(n.APPDATA=process.env.APPDATA),Object.keys(e).forEach((r=>{n[r]=varValueConvert(e[r],r)})),n}
//# sourceMappingURL=/sm/7eecf402f8202946384a8b1253faabdc9b37c51ff45528eba3dca1d7b0fc0f43.map