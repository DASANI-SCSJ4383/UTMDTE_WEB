/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/@coreui/coreui@4.1.3/js/src/navigation.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{defineJQueryPlugin,typeCheckConfig}from"./util/index";import Data from"./dom/data";import EventHandler from"./dom/event-handler";import Manipulator from"./dom/manipulator";import SelectorEngine from"./dom/selector-engine";import BaseComponent from"./base-component";const NAME="navigation",DATA_KEY="coreui.navigation",EVENT_KEY=`.${DATA_KEY}`,DATA_API_KEY=".data-api",Default={activeLinksExact:!0,groupsAutoCollapse:!0},DefaultType={activeLinksExact:"boolean",groupsAutoCollapse:"(string|boolean)"},CLASS_NAME_ACTIVE="active",CLASS_NAME_SHOW="show",CLASS_NAME_NAV_GROUP="nav-group",CLASS_NAME_NAV_GROUP_TOGGLE="nav-group-toggle",EVENT_CLICK_DATA_API=`click${EVENT_KEY}.data-api`,EVENT_LOAD_DATA_API=`load${EVENT_KEY}.data-api`,SELECTOR_NAV_GROUP=".nav-group",SELECTOR_NAV_GROUP_ITEMS=".nav-group-items",SELECTOR_NAV_GROUP_TOGGLE=".nav-group-toggle",SELECTOR_NAV_LINK=".nav-link",SELECTOR_DATA_NAVIGATION='[data-coreui="navigation"]';class Navigation extends BaseComponent{constructor(t,e){super(t),this._config=this._getConfig(e),this._setActiveLink(),this._addEventListeners(),Data.set(t,DATA_KEY,this)}static get Default(){return Default}static get DATA_KEY(){return DATA_KEY}static get DefaultType(){return DefaultType}static get NAME(){return NAME}_getConfig(t){return t={...Default,...Manipulator.getDataAttributes(this._element),..."object"==typeof t?t:{}},typeCheckConfig(NAME,t,DefaultType),t}_setActiveLink(){Array.from(this._element.querySelectorAll(".nav-link")).forEach((t=>{if(t.classList.contains("nav-group-toggle"))return;let e=String(window.location);(/\?.*=/.test(e)||/\?./.test(e))&&(e=e.split("?")[0]),/#./.test(e)&&(e=e.split("#")[0]),this._config.activeLinksExact&&t.href===e&&(t.classList.add("active"),Array.from(this._getParents(t,".nav-group")).forEach((t=>{t.classList.add("show"),t.setAttribute("aria-expanded",!0)}))),!this._config.activeLinksExact&&t.href.startsWith(e)&&(t.classList.add("active"),Array.from(this._getParents(t,".nav-group")).forEach((t=>{t.classList.add("show"),t.setAttribute("aria-expanded",!0)})))}))}_getParents(t,e){const i=[];for(;t&&t!==document;t=t.parentNode)e?t.matches(e)&&i.push(t):i.push(t);return i}_getAllSiblings(t,e){const i=[];t=t.parentNode.firstChild;do{3!==t.nodeType&&8!==t.nodeType&&(e&&!e(t)||i.push(t))}while(t=t.nextSibling);return i}_getChildren(t,e){const i=[];for(;t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}_getSiblings(t,e){return this._getChildren(t.parentNode.firstChild,t).filter(e)}_slideDown(t){t.style.height="auto";const e=t.clientHeight;t.style.height="0px",setTimeout((()=>{t.style.height=`${e}px`}),0),this._queueCallback((()=>{t.style.height="auto"}),t,!0)}_slideUp(t,e){const i=t.clientHeight;t.style.height=`${i}px`,setTimeout((()=>{t.style.height="0px"}),0),this._queueCallback((()=>{"function"==typeof e&&e()}),t,!0)}_toggleGroupItems(t){let e=t.target;e.classList.contains("nav-group-toggle")||(e=e.closest(".nav-group-toggle"));const i=t=>Boolean(t.classList.contains("nav-group")&&t.classList.contains("show"));!0===this._config.groupsAutoCollapse&&this._getSiblings(e.parentNode,i).forEach((t=>{this._slideUp(SelectorEngine.findOne(".nav-group-items",t),(()=>{t.classList.remove("show"),t.setAttribute("aria-expanded",!1)}))})),e.parentNode.classList.contains("show")?this._slideUp(SelectorEngine.findOne(".nav-group-items",e.parentNode),(()=>{e.parentNode.classList.remove("show"),e.parentNode.setAttribute("aria-expanded",!1)})):(e.parentNode.classList.add("show"),e.parentNode.setAttribute("aria-expanded",!0),this._slideDown(SelectorEngine.findOne(".nav-group-items",e.parentNode)))}_addEventListeners(){EventHandler.on(this._element,EVENT_CLICK_DATA_API,".nav-group-toggle",(t=>{t.preventDefault(),this._toggleGroupItems(t,this)}))}static navigationInterface(t,e){const i=Navigation.getOrCreateInstance(t,e);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e]()}}static jQueryInterface(t){return this.each((function(){Navigation.navigationInterface(this,t)}))}}EventHandler.on(window,EVENT_LOAD_DATA_API,(()=>{Array.from(document.querySelectorAll(SELECTOR_DATA_NAVIGATION)).forEach((t=>{Navigation.navigationInterface(t)}))})),defineJQueryPlugin(Navigation);export default Navigation;
//# sourceMappingURL=/sm/6fcc0865d35675a6ebd4bd1e508436e5a7511fa0b83b1a751b46c7bce003eed9.map