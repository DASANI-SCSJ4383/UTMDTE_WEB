/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/@coreui/coreui@4.1.3/js/src/sidebar.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{defineJQueryPlugin,typeCheckConfig}from"./util/index";import ScrollBarHelper from"./util/scrollbar";import EventHandler from"./dom/event-handler";import BaseComponent from"./base-component";import Manipulator from"./dom/manipulator";import Backdrop from"./util/backdrop";const NAME="sidebar",DATA_KEY="coreui.sidebar",EVENT_KEY=`.${DATA_KEY}`,DATA_API_KEY=".data-api",Default={},DefaultType={},CLASS_NAME_BACKDROP="sidebar-backdrop",CLASS_NAME_HIDE="hide",CLASS_NAME_SHOW="show",CLASS_NAME_SIDEBAR_NARROW="sidebar-narrow",CLASS_NAME_SIDEBAR_OVERLAID="sidebar-overlaid",CLASS_NAME_SIDEBAR_NARROW_UNFOLDABLE="sidebar-narrow-unfoldable",EVENT_HIDE=`hide${EVENT_KEY}`,EVENT_HIDDEN=`hidden${EVENT_KEY}`,EVENT_RESIZE="resize",EVENT_SHOW=`show${EVENT_KEY}`,EVENT_SHOWN=`shown${EVENT_KEY}`,EVENT_CLICK_DATA_API=`click${EVENT_KEY}.data-api`,EVENT_LOAD_DATA_API=`load${EVENT_KEY}.data-api`,SELECTOR_DATA_CLOSE='[data-coreui-close="sidebar"]',SELECTOR_DATA_TOGGLE="[data-coreui-toggle]",SELECTOR_SIDEBAR=".sidebar";class Sidebar extends BaseComponent{constructor(e,t){super(e),this._config=this._getConfig(t),this._show=this._isVisible(),this._mobile=this._isMobile(),this._overlaid=this._isOverlaid(),this._narrow=this._isNarrow(),this._unfoldable=this._isUnfoldable(),this._backdrop=this._initializeBackDrop(),this._addEventListeners()}static get Default(){return Default}static get DefaultType(){return DefaultType}static get NAME(){return NAME}show(){EventHandler.trigger(this._element,EVENT_SHOW),this._element.classList.contains("hide")&&this._element.classList.remove("hide"),this._isMobile()&&(this._element.classList.add("show"),this._backdrop.show(),(new ScrollBarHelper).hide());this._queueCallback((()=>{!0===this._isVisible()&&(this._show=!0,(this._isMobile()||this._isOverlaid())&&this._addClickOutListener(),EventHandler.trigger(this._element,EVENT_SHOWN))}),this._element,!0)}hide(){EventHandler.trigger(this._element,EVENT_HIDE),this._element.classList.contains("show")&&this._element.classList.remove("show"),this._isMobile()?(this._backdrop.hide(),(new ScrollBarHelper).reset()):this._element.classList.add("hide");this._queueCallback((()=>{!1===this._isVisible()&&(this._show=!1,(this._isMobile()||this._isOverlaid())&&this._removeClickOutListener(),EventHandler.trigger(this._element,EVENT_HIDDEN))}),this._element,!0)}toggle(){this._isVisible()?this.hide():this.show()}narrow(){this._isMobile()||(this._addClassName("sidebar-narrow"),this._narrow=!0)}unfoldable(){this._isMobile()||(this._addClassName("sidebar-narrow-unfoldable"),this._unfoldable=!0)}reset(){this._isMobile()||(this._narrow&&(this._element.classList.remove("sidebar-narrow"),this._narrow=!1),this._unfoldable&&(this._element.classList.remove("sidebar-narrow-unfoldable"),this._unfoldable=!1))}toggleNarrow(){this._narrow?this.reset():this.narrow()}toggleUnfoldable(){this._unfoldable?this.reset():this.unfoldable()}_getConfig(e){return e={...Default,...Manipulator.getDataAttributes(this._element),..."object"==typeof e?e:{}},typeCheckConfig(NAME,e,DefaultType),e}_initializeBackDrop(){return new Backdrop({className:"sidebar-backdrop",isVisible:this._isMobile(),isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_isMobile(){return Boolean(window.getComputedStyle(this._element,null).getPropertyValue("--cui-is-mobile"))}_isNarrow(){return this._element.classList.contains("sidebar-narrow")}_isOverlaid(){return this._element.classList.contains("sidebar-overlaid")}_isUnfoldable(){return this._element.classList.contains("sidebar-narrow-unfoldable")}_isVisible(){const e=this._element.getBoundingClientRect();return e.top>=0&&e.left>=0&&Math.floor(e.bottom)<=(window.innerHeight||document.documentElement.clientHeight)&&Math.floor(e.right)<=(window.innerWidth||document.documentElement.clientWidth)}_addClassName(e){this._element.classList.add(e)}_clickOutListener(e,t){null===e.target.closest(".sidebar")&&(e.preventDefault(),e.stopPropagation(),t.hide())}_addClickOutListener(){EventHandler.on(document,EVENT_CLICK_DATA_API,(e=>{this._clickOutListener(e,this)}))}_removeClickOutListener(){EventHandler.off(document,EVENT_CLICK_DATA_API)}_addEventListeners(){this._mobile&&this._show&&this._addClickOutListener(),this._overlaid&&this._show&&this._addClickOutListener(),EventHandler.on(this._element,EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,(e=>{e.preventDefault();const t=Manipulator.getDataAttribute(e.target,"toggle");"narrow"===t&&this.toggleNarrow(),"unfoldable"===t&&this.toggleUnfoldable()})),EventHandler.on(this._element,EVENT_CLICK_DATA_API,SELECTOR_DATA_CLOSE,(e=>{e.preventDefault(),this.hide()})),EventHandler.on(window,"resize",(()=>{this._isMobile()&&this._isVisible()&&(this.hide(),this._backdrop=this._initializeBackDrop())}))}static sidebarInterface(e,t){const i=Sidebar.getOrCreateInstance(e,t);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}}static jQueryInterface(e){return this.each((function(){Sidebar.sidebarInterface(this,e)}))}}EventHandler.on(window,EVENT_LOAD_DATA_API,(()=>{Array.from(document.querySelectorAll(".sidebar")).forEach((e=>{Sidebar.sidebarInterface(e)}))})),defineJQueryPlugin(Sidebar);export default Sidebar;
//# sourceMappingURL=/sm/e2a72d12b3dca866d6eea763f464a2e7b02036c0e04ff67fbcd61da63e63cee4.map